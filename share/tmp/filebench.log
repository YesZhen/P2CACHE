### SYSTEM         = Linux p2cache 5.4.225 #9 SMP Sun May 7 21:08:00 UTC 2023 x86_64 x86_64 x86_64 GNU/Linux
### DISK_SIZE      = 128G
### DURATION       = 30s
### DIRECTIO       = bufferedio,directio
### MEDIA_TYPES    = mem,pmem,ssd
### FS_TYPES       = tmpfs,p2cache,nova,ext4_dax,xfs_dax,ext4,xfs,ext4_dj
### BENCH_TYPES    = filebench_webproxy:NAME_Webproxy,filebench_varmail:NAME_Varmail,filebench_fileserver:NAME_Fileserver
### NCORES         = 1,2,4,6,8,10,12
### CORE_SEQ       = 0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23


### MODEL_NAME     = Intel(R) Xeon(R) Gold 5317 CPU @ 3.00GHz
### PHYSICAL_CHIPS = 2
### CORE_PER_CHIP  = 12
### SMT_LEVEL      = 1


-----------start-----------
## mem:tmpfs:filebench_webproxy:NAME_Webproxy:8:bufferedio
[bench_name]:[Webproxy]
# auto generated by fxmark#
# CDDL HEADER START
#
# The contents of this file are subject to the terms of the
# Common Development and Distribution License (the "License").
# You may not use this file except in compliance with the License.
#
# You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
# or http://www.opensolaris.org/os/licensing.
# See the License for the specific language governing permissions
# and limitations under the License.
#
# When distributing Covered Code, include this CDDL HEADER in each
# file and include the License file at usr/src/OPENSOLARIS.LICENSE.
# If applicable, add the following below this CDDL HEADER, with the
# fields enclosed by brackets "[]" replaced with your own identifying
# information: Portions Copyright [yyyy] [name of copyright owner]
#
# CDDL HEADER END
#
#
# Copyright 2008 Sun Microsystems, Inc.  All rights reserved.
# Use is subject to license terms.
#

set $dir=/tmp
set $nfiles=10000
set $meandirwidth=1000000
set $meanfilesize=16k
set $nthreads=100
set $meaniosize=16k
set $iosize=1m

define fileset name=bigfileset,path=$dir,size=$meanfilesize,entries=$nfiles,dirwidth=$meandirwidth,prealloc=80

define process name=proxycache,instances=1
{
thread name=proxycache,memsize=10m,instances=$nthreads
{
flowop deletefile name=deletefile1,filesetname=bigfileset
flowop createfile name=createfile1,filesetname=bigfileset,fd=1
flowop appendfilerand name=appendfilerand1,iosize=$meaniosize,fd=1
flowop closefile name=closefile1,fd=1
flowop openfile name=openfile2,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile2,fd=1,iosize=$iosize
flowop closefile name=closefile2,fd=1
flowop openfile name=openfile3,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile3,fd=1,iosize=$iosize
flowop closefile name=closefile3,fd=1
flowop openfile name=openfile4,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile4,fd=1,iosize=$iosize
flowop closefile name=closefile4,fd=1
flowop openfile name=openfile5,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile5,fd=1,iosize=$iosize
flowop closefile name=closefile5,fd=1
flowop openfile name=openfile6,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile6,fd=1,iosize=$iosize
flowop closefile name=closefile6,fd=1
flowop opslimit name=limit
}
}


set $nthreads=8
set $dir=/root/share/fxmark/bin/root
run 30
filebench
b'Filebench Version 1.5-alpha3\n'
b'0.000: Allocated 177MB of shared memory\n'
b'0.016: Populating and pre-allocating filesets\n'
b'0.022: bigfileset populated: 10000 files, avg. dir. width = 1000000, avg. dir. depth = 0.7, 0 leafdirs, 156.250MB total size\n'
b'0.022: Removing bigfileset tree (if exists)\n'
b'0.028: Pre-allocating directories in bigfileset tree\n'
b'0.028: Pre-allocating files in bigfileset tree\n'
b'0.218: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)\n'
b'0.218: Population and pre-allocation of filesets completed\n'
b'0.219: Starting 1 proxycache instances\n'
b'1.227: Running...\n'
b'31.230: Run took 30 seconds...\n'
b'31.230: Per-Operation Breakdown\n'
b'limit                0ops        0ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.000ms]\n'
b'closefile6           1452678ops    48420ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.929ms]\n'
b'readfile6            1452678ops    48420ops/s 380.4mb/s    0.003ms/op [0.001ms - 0.384ms]\n'
b'openfile6            1452678ops    48420ops/s   0.0mb/s    0.006ms/op [0.002ms - 1.251ms]\n'
b'closefile5           1452680ops    48420ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.343ms]\n'
b'readfile5            1452680ops    48420ops/s 380.1mb/s    0.003ms/op [0.001ms - 0.362ms]\n'
b'openfile5            1452680ops    48420ops/s   0.0mb/s    0.006ms/op [0.002ms - 1.180ms]\n'
b'closefile4           1452680ops    48420ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.250ms]\n'
b'readfile4            1452680ops    48420ops/s 380.3mb/s    0.003ms/op [0.001ms - 2.743ms]\n'
b'openfile4            1452682ops    48420ops/s   0.0mb/s    0.006ms/op [0.002ms - 1.211ms]\n'
b'closefile3           1452684ops    48420ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.260ms]\n'
b'readfile3            1452684ops    48420ops/s 380.1mb/s    0.003ms/op [0.001ms - 0.387ms]\n'
b'openfile3            1452684ops    48420ops/s   0.0mb/s    0.006ms/op [0.002ms - 1.011ms]\n'
b'closefile2           1452684ops    48420ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.247ms]\n'
b'readfile2            1452684ops    48420ops/s 380.6mb/s    0.003ms/op [0.001ms - 0.789ms]\n'
b'openfile2            1452684ops    48420ops/s   0.0mb/s    0.006ms/op [0.002ms - 1.367ms]\n'
b'closefile1           1452684ops    48420ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.763ms]\n'
b'appendfilerand1      1452685ops    48420ops/s 378.1mb/s    0.006ms/op [0.001ms - 8.059ms]\n'
b'createfile1          1452686ops    48420ops/s   0.0mb/s    0.014ms/op [0.008ms - 2.449ms]\n'
b'deletefile1          1452565ops    48416ops/s   0.0mb/s    0.011ms/op [0.006ms - 0.753ms]\n'
b'31.230: IO Summary: 27600840 ops 919970.471 ops/s 242098/48420 rd/wr 2279.7mb/s 0.004ms/op\n'
b'31.230: Shutting down processes\n'
[ops]:[919970.471]
[media]:[mem],[fs]:[tmpfs]
---------------------------
-----------start-----------
## mem:tmpfs:filebench_varmail:NAME_Varmail:8:bufferedio
[bench_name]:[Varmail]
# auto generated by fxmark#
# CDDL HEADER START
#
# The contents of this file are subject to the terms of the
# Common Development and Distribution License (the "License").
# You may not use this file except in compliance with the License.
#
# You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
# or http://www.opensolaris.org/os/licensing.
# See the License for the specific language governing permissions
# and limitations under the License.
#
# When distributing Covered Code, include this CDDL HEADER in each
# file and include the License file at usr/src/OPENSOLARIS.LICENSE.
# If applicable, add the following below this CDDL HEADER, with the
# fields enclosed by brackets "[]" replaced with your own identifying
# information: Portions Copyright [yyyy] [name of copyright owner]
#
# CDDL HEADER END
#
#
# Copyright 2007 Sun Microsystems, Inc.  All rights reserved.
# Use is subject to license terms.
#

set $dir=/tmp
set $nfiles=1000
set $meandirwidth=1000000
set $meanfilesize=16k
set $nthreads=16
set $iosize=1m
set $meanappendsize=16k

define fileset name=bigfileset,path=$dir,size=$meanfilesize,entries=$nfiles,dirwidth=$meandirwidth,prealloc=80

define process name=filereader,instances=1
{
thread name=filereaderthread,memsize=10m,instances=$nthreads
{
flowop deletefile name=deletefile1,filesetname=bigfileset
flowop createfile name=createfile2,filesetname=bigfileset,fd=1
flowop appendfilerand name=appendfilerand2,iosize=$meanappendsize,fd=1
flowop fsync name=fsyncfile2,fd=1
flowop closefile name=closefile2,fd=1
flowop openfile name=openfile3,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile3,fd=1,iosize=$iosize
flowop appendfilerand name=appendfilerand3,iosize=$meanappendsize,fd=1
flowop fsync name=fsyncfile3,fd=1
flowop closefile name=closefile3,fd=1
flowop openfile name=openfile4,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile4,fd=1,iosize=$iosize
flowop closefile name=closefile4,fd=1
}
}


####################################
# re-configured values by fxmark
####################################
# set $dir=[test partition]
# set $nthreads=[$cpu * 2]
# run [benchmark time]
set $nthreads=8
set $dir=/root/share/fxmark/bin/root
run 30
filebench
b'Filebench Version 1.5-alpha3\n'
b'0.000: Allocated 177MB of shared memory\n'
b'0.002: Populating and pre-allocating filesets\n'
b'0.002: bigfileset populated: 1000 files, avg. dir. width = 1000000, avg. dir. depth = 0.5, 0 leafdirs, 15.625MB total size\n'
b'0.002: Removing bigfileset tree (if exists)\n'
b'0.008: Pre-allocating directories in bigfileset tree\n'
b'0.008: Pre-allocating files in bigfileset tree\n'
b'0.023: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)\n'
b'0.023: Population and pre-allocation of filesets completed\n'
b'0.023: Starting 1 filereader instances\n'
b'1.031: Running...\n'
b'31.033: Run took 30 seconds...\n'
b'31.033: Per-Operation Breakdown\n'
b'closefile4           2303977ops    76794ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.548ms]\n'
b'readfile4            2303979ops    76794ops/s 1204.8mb/s    0.004ms/op [0.001ms - 0.436ms]\n'
b'openfile4            2303980ops    76794ops/s   0.0mb/s    0.005ms/op [0.002ms - 1.129ms]\n'
b'closefile3           2303980ops    76794ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.376ms]\n'
b'fsyncfile3           2303980ops    76794ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.293ms]\n'
b'appendfilerand3      2303981ops    76794ops/s 599.8mb/s    0.005ms/op [0.001ms - 0.460ms]\n'
b'readfile3            2303981ops    76794ops/s 1217.9mb/s    0.005ms/op [0.001ms - 0.526ms]\n'
b'openfile3            2303983ops    76794ops/s   0.0mb/s    0.005ms/op [0.002ms - 2.691ms]\n'
b'closefile2           2303983ops    76794ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.373ms]\n'
b'fsyncfile2           2303983ops    76794ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.244ms]\n'
b'appendfilerand2      2303984ops    76795ops/s 599.9mb/s    0.005ms/op [0.002ms - 1.784ms]\n'
b'createfile2          2303984ops    76795ops/s   0.0mb/s    0.014ms/op [0.007ms - 0.882ms]\n'
b'deletefile1          2303985ops    76795ops/s   0.0mb/s    0.013ms/op [0.006ms - 1.961ms]\n'
b'31.033: IO Summary: 29951760 ops 998327.575 ops/s 153589/153589 rd/wr 3622.5mb/s 0.005ms/op\n'
b'31.033: Shutting down processes\n'
[ops]:[998327.575]
[media]:[mem],[fs]:[tmpfs]
---------------------------
-----------start-----------
## mem:tmpfs:filebench_fileserver:NAME_Fileserver:8:bufferedio
[bench_name]:[Fileserver]
# auto generated by fxmark#
# CDDL HEADER START
#
# The contents of this file are subject to the terms of the
# Common Development and Distribution License (the "License").
# You may not use this file except in compliance with the License.
#
# You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
# or http://www.opensolaris.org/os/licensing.
# See the License for the specific language governing permissions
# and limitations under the License.
#
# When distributing Covered Code, include this CDDL HEADER in each
# file and include the License file at usr/src/OPENSOLARIS.LICENSE.
# If applicable, add the following below this CDDL HEADER, with the
# fields enclosed by brackets "[]" replaced with your own identifying
# information: Portions Copyright [yyyy] [name of copyright owner]
#
# CDDL HEADER END
#
#
# Copyright 2008 Sun Microsystems, Inc.  All rights reserved.
# Use is subject to license terms.
#

set $dir=/tmp
set $nfiles=10000
set $meandirwidth=20
set $meanfilesize=128k
set $nthreads=50
set $iosize=1m
set $meanappendsize=16k

define fileset name=bigfileset,path=$dir,size=$meanfilesize,entries=$nfiles,dirwidth=$meandirwidth,prealloc=80

define process name=filereader,instances=1
{
thread name=filereaderthread,memsize=10m,instances=$nthreads
{
flowop createfile name=createfile1,filesetname=bigfileset,fd=1
flowop writewholefile name=wrtfile1,srcfd=1,fd=1,iosize=$iosize
flowop closefile name=closefile1,fd=1
flowop openfile name=openfile1,filesetname=bigfileset,fd=1
flowop appendfilerand name=appendfilerand1,iosize=$meanappendsize,fd=1
flowop closefile name=closefile2,fd=1
flowop openfile name=openfile2,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile1,fd=1,iosize=$iosize
flowop closefile name=closefile3,fd=1
flowop deletefile name=deletefile1,filesetname=bigfileset
flowop statfile name=statfile1,filesetname=bigfileset
}
}




####################################
# re-configured values by fxmark
####################################
# set $dir=[test partition]
# set $nthreads=[$cpu * 2]
# run [benchmark time]

set $nthreads=8
set $dir=/root/share/fxmark/bin/root
run 10
filebench
b'Filebench Version 1.5-alpha3\n'
b'0.000: Allocated 177MB of shared memory\n'
b'0.002: Populating and pre-allocating filesets\n'
b'0.007: bigfileset populated: 10000 files, avg. dir. width = 20, avg. dir. depth = 3.1, 0 leafdirs, 1250.000MB total size\n'
b'0.007: Removing bigfileset tree (if exists)\n'
b'0.012: Pre-allocating directories in bigfileset tree\n'
b'0.019: Pre-allocating files in bigfileset tree\n'
b'0.776: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)\n'
b'0.776: Population and pre-allocation of filesets completed\n'
b'0.776: Starting 1 filereader instances\n'
b'1.784: Running...\n'
b'11.786: Run took 10 seconds...\n'
b'11.786: Per-Operation Breakdown\n'
b'statfile1            404610ops    40458ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.209ms]\n'
b'deletefile1          404610ops    40458ops/s   0.0mb/s    0.026ms/op [0.018ms - 0.532ms]\n'
b'closefile3           404611ops    40458ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.181ms]\n'
b'readfile1            404611ops    40458ops/s 5373.7mb/s    0.035ms/op [0.019ms - 2.198ms]\n'
b'openfile2            404613ops    40459ops/s   0.0mb/s    0.006ms/op [0.003ms - 3.976ms]\n'
b'closefile2           404614ops    40459ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.193ms]\n'
b'appendfilerand1      404615ops    40459ops/s 316.1mb/s    0.007ms/op [0.001ms - 1.036ms]\n'
b'openfile1            404615ops    40459ops/s   0.0mb/s    0.006ms/op [0.003ms - 12.437ms]\n'
b'closefile1           404615ops    40459ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.190ms]\n'
b'wrtfile1             404616ops    40459ops/s 5057.4mb/s    0.057ms/op [0.042ms - 1.133ms]\n'
b'createfile1          404618ops    40459ops/s   0.0mb/s    0.015ms/op [0.008ms - 1.121ms]\n'
b'11.786: IO Summary: 4450748 ops 445045.516 ops/s 40458/80918 rd/wr 10747.1mb/s 0.014ms/op\n'
b'11.786: Shutting down processes\n'
[ops]:[445045.516]
[media]:[mem],[fs]:[tmpfs]
---------------------------
### NUM_TEST_CONF  = 3
### SYSTEM         = Linux p2cache 5.4.225 #9 SMP Sun May 7 21:08:00 UTC 2023 x86_64 x86_64 x86_64 GNU/Linux
### DISK_SIZE      = 128G
### DURATION       = 30s
### DIRECTIO       = bufferedio,directio
### MEDIA_TYPES    = mem,pmem,ssd
### FS_TYPES       = tmpfs,p2cache,nova,ext4_dax,xfs_dax,ext4,xfs,ext4_dj
### BENCH_TYPES    = filebench_webproxy:NAME_Webproxy,filebench_varmail:NAME_Varmail,filebench_fileserver:NAME_Fileserver
### NCORES         = 1,2,4,6,8,10,12
### CORE_SEQ       = 0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23


### MODEL_NAME     = Intel(R) Xeon(R) Gold 5317 CPU @ 3.00GHz
### PHYSICAL_CHIPS = 2
### CORE_PER_CHIP  = 12
### SMT_LEVEL      = 1


-----------start-----------
## ssd:ext4:filebench_webproxy:NAME_Webproxy:8:bufferedio
[bench_name]:[Webproxy]
# auto generated by fxmark#
# CDDL HEADER START
#
# The contents of this file are subject to the terms of the
# Common Development and Distribution License (the "License").
# You may not use this file except in compliance with the License.
#
# You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
# or http://www.opensolaris.org/os/licensing.
# See the License for the specific language governing permissions
# and limitations under the License.
#
# When distributing Covered Code, include this CDDL HEADER in each
# file and include the License file at usr/src/OPENSOLARIS.LICENSE.
# If applicable, add the following below this CDDL HEADER, with the
# fields enclosed by brackets "[]" replaced with your own identifying
# information: Portions Copyright [yyyy] [name of copyright owner]
#
# CDDL HEADER END
#
#
# Copyright 2008 Sun Microsystems, Inc.  All rights reserved.
# Use is subject to license terms.
#

set $dir=/tmp
set $nfiles=10000
set $meandirwidth=1000000
set $meanfilesize=16k
set $nthreads=100
set $meaniosize=16k
set $iosize=1m

define fileset name=bigfileset,path=$dir,size=$meanfilesize,entries=$nfiles,dirwidth=$meandirwidth,prealloc=80

define process name=proxycache,instances=1
{
thread name=proxycache,memsize=10m,instances=$nthreads
{
flowop deletefile name=deletefile1,filesetname=bigfileset
flowop createfile name=createfile1,filesetname=bigfileset,fd=1
flowop appendfilerand name=appendfilerand1,iosize=$meaniosize,fd=1
flowop closefile name=closefile1,fd=1
flowop openfile name=openfile2,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile2,fd=1,iosize=$iosize
flowop closefile name=closefile2,fd=1
flowop openfile name=openfile3,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile3,fd=1,iosize=$iosize
flowop closefile name=closefile3,fd=1
flowop openfile name=openfile4,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile4,fd=1,iosize=$iosize
flowop closefile name=closefile4,fd=1
flowop openfile name=openfile5,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile5,fd=1,iosize=$iosize
flowop closefile name=closefile5,fd=1
flowop openfile name=openfile6,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile6,fd=1,iosize=$iosize
flowop closefile name=closefile6,fd=1
flowop opslimit name=limit
}
}


set $nthreads=8
set $dir=/root/share/fxmark/bin/root
run 30
filebench
b'Filebench Version 1.5-alpha3\n'
b'0.000: Allocated 177MB of shared memory\n'
b'0.002: Populating and pre-allocating filesets\n'
b'0.007: bigfileset populated: 10000 files, avg. dir. width = 1000000, avg. dir. depth = 0.7, 0 leafdirs, 156.250MB total size\n'
b'0.007: Removing bigfileset tree (if exists)\n'
b'0.013: Pre-allocating directories in bigfileset tree\n'
b'0.014: Pre-allocating files in bigfileset tree\n'
b'0.387: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)\n'
b'0.387: Population and pre-allocation of filesets completed\n'
b'0.387: Starting 1 proxycache instances\n'
b'1.395: Running...\n'
b'31.398: Run took 30 seconds...\n'
b'31.399: Per-Operation Breakdown\n'
b'limit                0ops        0ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.000ms]\n'
b'closefile6           1063788ops    35457ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.826ms]\n'
b'readfile6            1063788ops    35457ops/s 279.1mb/s    0.004ms/op [0.001ms - 1.437ms]\n'
b'openfile6            1063789ops    35457ops/s   0.0mb/s    0.005ms/op [0.002ms - 1.788ms]\n'
b'closefile5           1063789ops    35457ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.833ms]\n'
b'readfile5            1063789ops    35457ops/s 279.3mb/s    0.004ms/op [0.001ms - 1.575ms]\n'
b'openfile5            1063790ops    35457ops/s   0.0mb/s    0.005ms/op [0.002ms - 1.735ms]\n'
b'closefile4           1063790ops    35457ops/s   0.0mb/s    0.001ms/op [0.001ms - 1.548ms]\n'
b'readfile4            1063790ops    35457ops/s 279.3mb/s    0.004ms/op [0.001ms - 1.518ms]\n'
b'openfile4            1063790ops    35457ops/s   0.0mb/s    0.005ms/op [0.002ms - 1.122ms]\n'
b'closefile3           1063790ops    35457ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.829ms]\n'
b'readfile3            1063791ops    35457ops/s 279.2mb/s    0.004ms/op [0.001ms - 0.931ms]\n'
b'openfile3            1063791ops    35457ops/s   0.0mb/s    0.005ms/op [0.002ms - 1.374ms]\n'
b'closefile2           1063792ops    35457ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.426ms]\n'
b'readfile2            1063792ops    35457ops/s 279.2mb/s    0.004ms/op [0.001ms - 0.440ms]\n'
b'openfile2            1063793ops    35457ops/s   0.0mb/s    0.005ms/op [0.002ms - 1.169ms]\n'
b'closefile1           1063793ops    35457ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.820ms]\n'
b'appendfilerand1      1063793ops    35457ops/s 277.1mb/s    0.014ms/op [0.006ms - 3.090ms]\n'
b'createfile1          1063795ops    35457ops/s   0.0mb/s    0.048ms/op [0.016ms - 4.443ms]\n'
b'deletefile1          1063668ops    35453ops/s   0.0mb/s    0.054ms/op [0.021ms - 4.454ms]\n'
b'31.399: IO Summary: 20211901 ops 673684.313 ops/s 177286/35457 rd/wr 1673.1mb/s 0.009ms/op\n'
b'31.399: Shutting down processes\n'
[ops]:[673684.313]
[media]:[ssd],[fs]:[ext4]
---------------------------
-----------start-----------
## ssd:ext4:filebench_varmail:NAME_Varmail:8:bufferedio
[bench_name]:[Varmail]
# auto generated by fxmark#
# CDDL HEADER START
#
# The contents of this file are subject to the terms of the
# Common Development and Distribution License (the "License").
# You may not use this file except in compliance with the License.
#
# You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
# or http://www.opensolaris.org/os/licensing.
# See the License for the specific language governing permissions
# and limitations under the License.
#
# When distributing Covered Code, include this CDDL HEADER in each
# file and include the License file at usr/src/OPENSOLARIS.LICENSE.
# If applicable, add the following below this CDDL HEADER, with the
# fields enclosed by brackets "[]" replaced with your own identifying
# information: Portions Copyright [yyyy] [name of copyright owner]
#
# CDDL HEADER END
#
#
# Copyright 2007 Sun Microsystems, Inc.  All rights reserved.
# Use is subject to license terms.
#

set $dir=/tmp
set $nfiles=1000
set $meandirwidth=1000000
set $meanfilesize=16k
set $nthreads=16
set $iosize=1m
set $meanappendsize=16k

define fileset name=bigfileset,path=$dir,size=$meanfilesize,entries=$nfiles,dirwidth=$meandirwidth,prealloc=80

define process name=filereader,instances=1
{
thread name=filereaderthread,memsize=10m,instances=$nthreads
{
flowop deletefile name=deletefile1,filesetname=bigfileset
flowop createfile name=createfile2,filesetname=bigfileset,fd=1
flowop appendfilerand name=appendfilerand2,iosize=$meanappendsize,fd=1
flowop fsync name=fsyncfile2,fd=1
flowop closefile name=closefile2,fd=1
flowop openfile name=openfile3,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile3,fd=1,iosize=$iosize
flowop appendfilerand name=appendfilerand3,iosize=$meanappendsize,fd=1
flowop fsync name=fsyncfile3,fd=1
flowop closefile name=closefile3,fd=1
flowop openfile name=openfile4,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile4,fd=1,iosize=$iosize
flowop closefile name=closefile4,fd=1
}
}


####################################
# re-configured values by fxmark
####################################
# set $dir=[test partition]
# set $nthreads=[$cpu * 2]
# run [benchmark time]
set $nthreads=8
set $dir=/root/share/fxmark/bin/root
run 30
filebench
b'Filebench Version 1.5-alpha3\n'
b'0.000: Allocated 177MB of shared memory\n'
b'0.002: Populating and pre-allocating filesets\n'
b'0.003: bigfileset populated: 1000 files, avg. dir. width = 1000000, avg. dir. depth = 0.5, 0 leafdirs, 15.625MB total size\n'
b'0.003: Removing bigfileset tree (if exists)\n'
b'0.008: Pre-allocating directories in bigfileset tree\n'
b'0.010: Pre-allocating files in bigfileset tree\n'
b'0.047: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)\n'
b'0.047: Population and pre-allocation of filesets completed\n'
b'0.047: Starting 1 filereader instances\n'
b'1.054: Running...\n'
b'31.060: Run took 30 seconds...\n'
b'31.060: Per-Operation Breakdown\n'
b'closefile4           6625ops      221ops/s   0.0mb/s    0.007ms/op [0.003ms - 0.754ms]\n'
b'readfile4            6625ops      221ops/s   3.4mb/s    0.280ms/op [0.008ms - 9.991ms]\n'
b'openfile4            6625ops      221ops/s   0.0mb/s    0.032ms/op [0.012ms - 0.730ms]\n'
b'closefile3           6625ops      221ops/s   0.0mb/s    0.014ms/op [0.005ms - 0.082ms]\n'
b'fsyncfile3           6625ops      221ops/s   0.0mb/s   18.789ms/op [5.175ms - 38.220ms]\n'
b'appendfilerand3      6630ops      221ops/s   1.7mb/s    0.199ms/op [0.021ms - 9.707ms]\n'
b'readfile3            6630ops      221ops/s   3.5mb/s    0.305ms/op [0.010ms - 12.216ms]\n'
b'openfile3            6630ops      221ops/s   0.0mb/s    0.032ms/op [0.012ms - 0.325ms]\n'
b'closefile2           6630ops      221ops/s   0.0mb/s    0.014ms/op [0.006ms - 0.077ms]\n'
b'fsyncfile2           6630ops      221ops/s   0.0mb/s   14.432ms/op [4.907ms - 51.065ms]\n'
b'appendfilerand2      6633ops      221ops/s   1.7mb/s    0.108ms/op [0.030ms - 10.563ms]\n'
b'createfile2          6633ops      221ops/s   0.0mb/s    0.258ms/op [0.079ms - 11.769ms]\n'
b'deletefile1          6633ops      221ops/s   0.0mb/s    1.589ms/op [0.090ms - 11.871ms]\n'
b'31.060: IO Summary: 86174 ops 2872.021 ops/s 442/442 rd/wr  10.4mb/s 2.773ms/op\n'
b'31.060: Shutting down processes\n'
[ops]:[2872.021]
[media]:[ssd],[fs]:[ext4]
---------------------------
-----------start-----------
## ssd:ext4:filebench_fileserver:NAME_Fileserver:8:bufferedio
[bench_name]:[Fileserver]
# auto generated by fxmark#
# CDDL HEADER START
#
# The contents of this file are subject to the terms of the
# Common Development and Distribution License (the "License").
# You may not use this file except in compliance with the License.
#
# You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
# or http://www.opensolaris.org/os/licensing.
# See the License for the specific language governing permissions
# and limitations under the License.
#
# When distributing Covered Code, include this CDDL HEADER in each
# file and include the License file at usr/src/OPENSOLARIS.LICENSE.
# If applicable, add the following below this CDDL HEADER, with the
# fields enclosed by brackets "[]" replaced with your own identifying
# information: Portions Copyright [yyyy] [name of copyright owner]
#
# CDDL HEADER END
#
#
# Copyright 2008 Sun Microsystems, Inc.  All rights reserved.
# Use is subject to license terms.
#

set $dir=/tmp
set $nfiles=10000
set $meandirwidth=20
set $meanfilesize=128k
set $nthreads=50
set $iosize=1m
set $meanappendsize=16k

define fileset name=bigfileset,path=$dir,size=$meanfilesize,entries=$nfiles,dirwidth=$meandirwidth,prealloc=80

define process name=filereader,instances=1
{
thread name=filereaderthread,memsize=10m,instances=$nthreads
{
flowop createfile name=createfile1,filesetname=bigfileset,fd=1
flowop writewholefile name=wrtfile1,srcfd=1,fd=1,iosize=$iosize
flowop closefile name=closefile1,fd=1
flowop openfile name=openfile1,filesetname=bigfileset,fd=1
flowop appendfilerand name=appendfilerand1,iosize=$meanappendsize,fd=1
flowop closefile name=closefile2,fd=1
flowop openfile name=openfile2,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile1,fd=1,iosize=$iosize
flowop closefile name=closefile3,fd=1
flowop deletefile name=deletefile1,filesetname=bigfileset
flowop statfile name=statfile1,filesetname=bigfileset
}
}




####################################
# re-configured values by fxmark
####################################
# set $dir=[test partition]
# set $nthreads=[$cpu * 2]
# run [benchmark time]

set $nthreads=8
set $dir=/root/share/fxmark/bin/root
run 10
filebench
b'Filebench Version 1.5-alpha3\n'
b'0.000: Allocated 177MB of shared memory\n'
b'0.002: Populating and pre-allocating filesets\n'
b'0.007: bigfileset populated: 10000 files, avg. dir. width = 20, avg. dir. depth = 3.1, 0 leafdirs, 1250.000MB total size\n'
b'0.007: Removing bigfileset tree (if exists)\n'
b'0.013: Pre-allocating directories in bigfileset tree\n'
b'0.035: Pre-allocating files in bigfileset tree\n'
b'1.407: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)\n'
b'1.407: Population and pre-allocation of filesets completed\n'
b'1.408: Starting 1 filereader instances\n'
b'2.415: Running...\n'
b'12.417: Run took 10 seconds...\n'
b'12.417: Per-Operation Breakdown\n'
b'statfile1            252104ops    25209ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.392ms]\n'
b'deletefile1          252103ops    25209ops/s   0.0mb/s    0.052ms/op [0.038ms - 2.828ms]\n'
b'closefile3           252105ops    25209ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.287ms]\n'
b'readfile1            252106ops    25209ops/s 3350.3mb/s    0.036ms/op [0.019ms - 1.516ms]\n'
b'openfile2            252107ops    25209ops/s   0.0mb/s    0.005ms/op [0.003ms - 0.433ms]\n'
b'closefile2           252107ops    25209ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.097ms]\n'
b'appendfilerand1      252107ops    25209ops/s 197.2mb/s    0.017ms/op [0.005ms - 2.356ms]\n'
b'openfile1            252107ops    25209ops/s   0.0mb/s    0.005ms/op [0.003ms - 0.818ms]\n'
b'closefile1           252107ops    25209ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.305ms]\n'
b'wrtfile1             252110ops    25209ops/s 3151.2mb/s    0.142ms/op [0.119ms - 2.236ms]\n'
b'createfile1          252112ops    25209ops/s   0.0mb/s    0.025ms/op [0.017ms - 2.428ms]\n'
b'12.417: IO Summary: 2773175 ops 277298.671 ops/s 25209/50418 rd/wr 6698.8mb/s 0.026ms/op\n'
b'12.417: Shutting down processes\n'
[ops]:[277298.671]
[media]:[ssd],[fs]:[ext4]
---------------------------
### NUM_TEST_CONF  = 3
### SYSTEM         = Linux p2cache 5.4.225 #9 SMP Sun May 7 21:08:00 UTC 2023 x86_64 x86_64 x86_64 GNU/Linux
### DISK_SIZE      = 128G
### DURATION       = 30s
### DIRECTIO       = bufferedio,directio
### MEDIA_TYPES    = mem,pmem,ssd
### FS_TYPES       = tmpfs,p2cache,nova,ext4_dax,xfs_dax,ext4,xfs,ext4_dj
### BENCH_TYPES    = filebench_webproxy:NAME_Webproxy,filebench_varmail:NAME_Varmail,filebench_fileserver:NAME_Fileserver
### NCORES         = 1,2,4,6,8,10,12
### CORE_SEQ       = 0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23


### MODEL_NAME     = Intel(R) Xeon(R) Gold 5317 CPU @ 3.00GHz
### PHYSICAL_CHIPS = 2
### CORE_PER_CHIP  = 12
### SMT_LEVEL      = 1


-----------start-----------
## ssd:ext4_dj:filebench_webproxy:NAME_Webproxy:8:bufferedio
[bench_name]:[Webproxy]
# auto generated by fxmark#
# CDDL HEADER START
#
# The contents of this file are subject to the terms of the
# Common Development and Distribution License (the "License").
# You may not use this file except in compliance with the License.
#
# You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
# or http://www.opensolaris.org/os/licensing.
# See the License for the specific language governing permissions
# and limitations under the License.
#
# When distributing Covered Code, include this CDDL HEADER in each
# file and include the License file at usr/src/OPENSOLARIS.LICENSE.
# If applicable, add the following below this CDDL HEADER, with the
# fields enclosed by brackets "[]" replaced with your own identifying
# information: Portions Copyright [yyyy] [name of copyright owner]
#
# CDDL HEADER END
#
#
# Copyright 2008 Sun Microsystems, Inc.  All rights reserved.
# Use is subject to license terms.
#

set $dir=/tmp
set $nfiles=10000
set $meandirwidth=1000000
set $meanfilesize=16k
set $nthreads=100
set $meaniosize=16k
set $iosize=1m

define fileset name=bigfileset,path=$dir,size=$meanfilesize,entries=$nfiles,dirwidth=$meandirwidth,prealloc=80

define process name=proxycache,instances=1
{
thread name=proxycache,memsize=10m,instances=$nthreads
{
flowop deletefile name=deletefile1,filesetname=bigfileset
flowop createfile name=createfile1,filesetname=bigfileset,fd=1
flowop appendfilerand name=appendfilerand1,iosize=$meaniosize,fd=1
flowop closefile name=closefile1,fd=1
flowop openfile name=openfile2,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile2,fd=1,iosize=$iosize
flowop closefile name=closefile2,fd=1
flowop openfile name=openfile3,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile3,fd=1,iosize=$iosize
flowop closefile name=closefile3,fd=1
flowop openfile name=openfile4,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile4,fd=1,iosize=$iosize
flowop closefile name=closefile4,fd=1
flowop openfile name=openfile5,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile5,fd=1,iosize=$iosize
flowop closefile name=closefile5,fd=1
flowop openfile name=openfile6,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile6,fd=1,iosize=$iosize
flowop closefile name=closefile6,fd=1
flowop opslimit name=limit
}
}


set $nthreads=8
set $dir=/root/share/fxmark/bin/root
run 30
filebench
b'Filebench Version 1.5-alpha3\n'
b'0.000: Allocated 177MB of shared memory\n'
b'0.002: Populating and pre-allocating filesets\n'
b'0.022: bigfileset populated: 10000 files, avg. dir. width = 1000000, avg. dir. depth = 0.7, 0 leafdirs, 156.250MB total size\n'
b'0.022: Removing bigfileset tree (if exists)\n'
b'0.028: Pre-allocating directories in bigfileset tree\n'
b'0.029: Pre-allocating files in bigfileset tree\n'
b'0.696: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)\n'
b'0.696: Population and pre-allocation of filesets completed\n'
b'0.697: Starting 1 proxycache instances\n'
b'1.704: Running...\n'
b'31.708: Run took 30 seconds...\n'
b'31.708: Per-Operation Breakdown\n'
b'limit                0ops        0ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.000ms]\n'
b'closefile6           954707ops    31821ops/s   0.0mb/s    0.002ms/op [0.001ms - 3.302ms]\n'
b'readfile6            954707ops    31821ops/s 250.7mb/s    0.004ms/op [0.001ms - 2.490ms]\n'
b'openfile6            954708ops    31821ops/s   0.0mb/s    0.005ms/op [0.002ms - 12.741ms]\n'
b'closefile5           954708ops    31821ops/s   0.0mb/s    0.002ms/op [0.001ms - 0.726ms]\n'
b'readfile5            954708ops    31821ops/s 250.2mb/s    0.004ms/op [0.001ms - 19.711ms]\n'
b'openfile5            954709ops    31821ops/s   0.0mb/s    0.005ms/op [0.002ms - 2.512ms]\n'
b'closefile4           954710ops    31821ops/s   0.0mb/s    0.002ms/op [0.001ms - 1.669ms]\n'
b'readfile4            954710ops    31821ops/s 250.5mb/s    0.004ms/op [0.001ms - 29.081ms]\n'
b'openfile4            954710ops    31821ops/s   0.0mb/s    0.005ms/op [0.002ms - 11.525ms]\n'
b'closefile3           954710ops    31821ops/s   0.0mb/s    0.002ms/op [0.001ms - 3.472ms]\n'
b'readfile3            954710ops    31821ops/s 250.3mb/s    0.004ms/op [0.001ms - 19.596ms]\n'
b'openfile3            954710ops    31821ops/s   0.0mb/s    0.005ms/op [0.002ms - 10.689ms]\n'
b'closefile2           954710ops    31821ops/s   0.0mb/s    0.002ms/op [0.001ms - 0.649ms]\n'
b'readfile2            954711ops    31821ops/s 250.3mb/s    0.004ms/op [0.001ms - 28.893ms]\n'
b'openfile2            954711ops    31821ops/s   0.0mb/s    0.005ms/op [0.002ms - 21.131ms]\n'
b'closefile1           954711ops    31821ops/s   0.0mb/s    0.002ms/op [0.001ms - 2.444ms]\n'
b'appendfilerand1      954712ops    31821ops/s 248.6mb/s    0.038ms/op [0.014ms - 35.879ms]\n'
b'createfile1          954713ops    31821ops/s   0.0mb/s    0.039ms/op [0.017ms - 36.077ms]\n'
b'deletefile1          954509ops    31814ops/s   0.0mb/s    0.059ms/op [0.023ms - 36.456ms]\n'
b'31.708: IO Summary: 18139284 ops 604589.314 ops/s 159104/31821 rd/wr 1500.6mb/s 0.010ms/op\n'
b'31.708: Shutting down processes\n'
[ops]:[604589.314]
[media]:[ssd],[fs]:[ext4_dj]
---------------------------
-----------start-----------
## ssd:ext4_dj:filebench_varmail:NAME_Varmail:8:bufferedio
[bench_name]:[Varmail]
# auto generated by fxmark#
# CDDL HEADER START
#
# The contents of this file are subject to the terms of the
# Common Development and Distribution License (the "License").
# You may not use this file except in compliance with the License.
#
# You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
# or http://www.opensolaris.org/os/licensing.
# See the License for the specific language governing permissions
# and limitations under the License.
#
# When distributing Covered Code, include this CDDL HEADER in each
# file and include the License file at usr/src/OPENSOLARIS.LICENSE.
# If applicable, add the following below this CDDL HEADER, with the
# fields enclosed by brackets "[]" replaced with your own identifying
# information: Portions Copyright [yyyy] [name of copyright owner]
#
# CDDL HEADER END
#
#
# Copyright 2007 Sun Microsystems, Inc.  All rights reserved.
# Use is subject to license terms.
#

set $dir=/tmp
set $nfiles=1000
set $meandirwidth=1000000
set $meanfilesize=16k
set $nthreads=16
set $iosize=1m
set $meanappendsize=16k

define fileset name=bigfileset,path=$dir,size=$meanfilesize,entries=$nfiles,dirwidth=$meandirwidth,prealloc=80

define process name=filereader,instances=1
{
thread name=filereaderthread,memsize=10m,instances=$nthreads
{
flowop deletefile name=deletefile1,filesetname=bigfileset
flowop createfile name=createfile2,filesetname=bigfileset,fd=1
flowop appendfilerand name=appendfilerand2,iosize=$meanappendsize,fd=1
flowop fsync name=fsyncfile2,fd=1
flowop closefile name=closefile2,fd=1
flowop openfile name=openfile3,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile3,fd=1,iosize=$iosize
flowop appendfilerand name=appendfilerand3,iosize=$meanappendsize,fd=1
flowop fsync name=fsyncfile3,fd=1
flowop closefile name=closefile3,fd=1
flowop openfile name=openfile4,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile4,fd=1,iosize=$iosize
flowop closefile name=closefile4,fd=1
}
}


####################################
# re-configured values by fxmark
####################################
# set $dir=[test partition]
# set $nthreads=[$cpu * 2]
# run [benchmark time]
set $nthreads=8
set $dir=/root/share/fxmark/bin/root
run 30
filebench
b'Filebench Version 1.5-alpha3\n'
b'0.000: Allocated 177MB of shared memory\n'
b'0.002: Populating and pre-allocating filesets\n'
b'0.003: bigfileset populated: 1000 files, avg. dir. width = 1000000, avg. dir. depth = 0.5, 0 leafdirs, 15.625MB total size\n'
b'0.003: Removing bigfileset tree (if exists)\n'
b'0.009: Pre-allocating directories in bigfileset tree\n'
b'0.010: Pre-allocating files in bigfileset tree\n'
b'0.075: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)\n'
b'0.075: Population and pre-allocation of filesets completed\n'
b'0.075: Starting 1 filereader instances\n'
b'1.083: Running...\n'
b'31.090: Run took 30 seconds...\n'
b'31.090: Per-Operation Breakdown\n'
b'closefile4           8144ops      271ops/s   0.0mb/s    0.007ms/op [0.003ms - 0.782ms]\n'
b'readfile4            8144ops      271ops/s   4.2mb/s    0.305ms/op [0.009ms - 10.711ms]\n'
b'openfile4            8144ops      271ops/s   0.0mb/s    0.030ms/op [0.008ms - 0.516ms]\n'
b'closefile3           8144ops      271ops/s   0.0mb/s    0.013ms/op [0.006ms - 0.087ms]\n'
b'fsyncfile3           8144ops      271ops/s   0.0mb/s   14.828ms/op [5.145ms - 50.051ms]\n'
b'appendfilerand3      8147ops      272ops/s   2.1mb/s    0.985ms/op [0.020ms - 10.127ms]\n'
b'readfile3            8147ops      272ops/s   4.2mb/s    0.294ms/op [0.008ms - 11.259ms]\n'
b'openfile3            8148ops      272ops/s   0.0mb/s    0.030ms/op [0.012ms - 2.403ms]\n'
b'closefile2           8148ops      272ops/s   0.0mb/s    0.013ms/op [0.006ms - 0.087ms]\n'
b'fsyncfile2           8148ops      272ops/s   0.0mb/s   10.562ms/op [5.759ms - 144.331ms]\n'
b'appendfilerand2      8152ops      272ops/s   2.1mb/s    0.182ms/op [0.050ms - 5.393ms]\n'
b'createfile2          8152ops      272ops/s   0.0mb/s    0.169ms/op [0.071ms - 4.977ms]\n'
b'deletefile1          8152ops      272ops/s   0.0mb/s    1.907ms/op [0.170ms - 11.506ms]\n'
b'31.090: IO Summary: 105914 ops 3529.727 ops/s 543/543 rd/wr  12.6mb/s 2.256ms/op\n'
b'31.090: Shutting down processes\n'
[ops]:[3529.727]
[media]:[ssd],[fs]:[ext4_dj]
---------------------------
-----------start-----------
## ssd:ext4_dj:filebench_fileserver:NAME_Fileserver:8:bufferedio
[bench_name]:[Fileserver]
# auto generated by fxmark#
# CDDL HEADER START
#
# The contents of this file are subject to the terms of the
# Common Development and Distribution License (the "License").
# You may not use this file except in compliance with the License.
#
# You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
# or http://www.opensolaris.org/os/licensing.
# See the License for the specific language governing permissions
# and limitations under the License.
#
# When distributing Covered Code, include this CDDL HEADER in each
# file and include the License file at usr/src/OPENSOLARIS.LICENSE.
# If applicable, add the following below this CDDL HEADER, with the
# fields enclosed by brackets "[]" replaced with your own identifying
# information: Portions Copyright [yyyy] [name of copyright owner]
#
# CDDL HEADER END
#
#
# Copyright 2008 Sun Microsystems, Inc.  All rights reserved.
# Use is subject to license terms.
#

set $dir=/tmp
set $nfiles=10000
set $meandirwidth=20
set $meanfilesize=128k
set $nthreads=50
set $iosize=1m
set $meanappendsize=16k

define fileset name=bigfileset,path=$dir,size=$meanfilesize,entries=$nfiles,dirwidth=$meandirwidth,prealloc=80

define process name=filereader,instances=1
{
thread name=filereaderthread,memsize=10m,instances=$nthreads
{
flowop createfile name=createfile1,filesetname=bigfileset,fd=1
flowop writewholefile name=wrtfile1,srcfd=1,fd=1,iosize=$iosize
flowop closefile name=closefile1,fd=1
flowop openfile name=openfile1,filesetname=bigfileset,fd=1
flowop appendfilerand name=appendfilerand1,iosize=$meanappendsize,fd=1
flowop closefile name=closefile2,fd=1
flowop openfile name=openfile2,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile1,fd=1,iosize=$iosize
flowop closefile name=closefile3,fd=1
flowop deletefile name=deletefile1,filesetname=bigfileset
flowop statfile name=statfile1,filesetname=bigfileset
}
}




####################################
# re-configured values by fxmark
####################################
# set $dir=[test partition]
# set $nthreads=[$cpu * 2]
# run [benchmark time]

set $nthreads=8
set $dir=/root/share/fxmark/bin/root
run 10
filebench
b'Filebench Version 1.5-alpha3\n'
b'0.000: Allocated 177MB of shared memory\n'
b'0.002: Populating and pre-allocating filesets\n'
b'0.007: bigfileset populated: 10000 files, avg. dir. width = 20, avg. dir. depth = 3.1, 0 leafdirs, 1250.000MB total size\n'
b'0.007: Removing bigfileset tree (if exists)\n'
b'0.013: Pre-allocating directories in bigfileset tree\n'
b'0.035: Pre-allocating files in bigfileset tree\n'
b'9.740: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)\n'
b'9.740: Population and pre-allocation of filesets completed\n'
b'9.740: Starting 1 filereader instances\n'
b'10.748: Running...\n'
b'20.751: Run took 10 seconds...\n'
b'20.751: Per-Operation Breakdown\n'
b'statfile1            5740ops      574ops/s   0.0mb/s    0.004ms/op [0.002ms - 0.508ms]\n'
b'deletefile1          5740ops      574ops/s   0.0mb/s    3.454ms/op [0.068ms - 4982.502ms]\n'
b'closefile3           5744ops      574ops/s   0.0mb/s    0.002ms/op [0.001ms - 0.176ms]\n'
b'readfile1            5744ops      574ops/s  72.5mb/s    0.718ms/op [0.027ms - 3799.450ms]\n'
b'openfile2            5744ops      574ops/s   0.0mb/s    0.008ms/op [0.004ms - 5.052ms]\n'
b'closefile2           5744ops      574ops/s   0.0mb/s    0.008ms/op [0.001ms - 0.524ms]\n'
b'appendfilerand1      5744ops      574ops/s   4.4mb/s    0.985ms/op [0.010ms - 4980.602ms]\n'
b'openfile1            5745ops      574ops/s   0.0mb/s    0.009ms/op [0.004ms - 1.945ms]\n'
b'closefile1           5745ops      574ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.302ms]\n'
b'wrtfile1             5745ops      574ops/s  71.8mb/s    7.542ms/op [0.393ms - 4981.420ms]\n'
b'createfile1          5748ops      575ops/s   0.0mb/s    0.821ms/op [0.022ms - 3799.010ms]\n'
b'20.751: IO Summary: 63183 ops 6317.146 ops/s 574/1149 rd/wr 148.7mb/s 1.232ms/op\n'
b'20.751: Shutting down processes\n'
[ops]:[6317.146]
[media]:[ssd],[fs]:[ext4_dj]
---------------------------
### NUM_TEST_CONF  = 3
### SYSTEM         = Linux p2cache 5.4.225 #9 SMP Sun May 7 21:08:00 UTC 2023 x86_64 x86_64 x86_64 GNU/Linux
### DISK_SIZE      = 128G
### DURATION       = 30s
### DIRECTIO       = bufferedio,directio
### MEDIA_TYPES    = mem,pmem,ssd
### FS_TYPES       = tmpfs,p2cache,nova,ext4_dax,xfs_dax,ext4,xfs,ext4_dj
### BENCH_TYPES    = filebench_webproxy:NAME_Webproxy,filebench_varmail:NAME_Varmail,filebench_fileserver:NAME_Fileserver
### NCORES         = 1,2,4,6,8,10,12
### CORE_SEQ       = 0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23


### MODEL_NAME     = Intel(R) Xeon(R) Gold 5317 CPU @ 3.00GHz
### PHYSICAL_CHIPS = 2
### CORE_PER_CHIP  = 12
### SMT_LEVEL      = 1


-----------start-----------
## ssd:xfs:filebench_webproxy:NAME_Webproxy:8:bufferedio
[bench_name]:[Webproxy]
# auto generated by fxmark#
# CDDL HEADER START
#
# The contents of this file are subject to the terms of the
# Common Development and Distribution License (the "License").
# You may not use this file except in compliance with the License.
#
# You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
# or http://www.opensolaris.org/os/licensing.
# See the License for the specific language governing permissions
# and limitations under the License.
#
# When distributing Covered Code, include this CDDL HEADER in each
# file and include the License file at usr/src/OPENSOLARIS.LICENSE.
# If applicable, add the following below this CDDL HEADER, with the
# fields enclosed by brackets "[]" replaced with your own identifying
# information: Portions Copyright [yyyy] [name of copyright owner]
#
# CDDL HEADER END
#
#
# Copyright 2008 Sun Microsystems, Inc.  All rights reserved.
# Use is subject to license terms.
#

set $dir=/tmp
set $nfiles=10000
set $meandirwidth=1000000
set $meanfilesize=16k
set $nthreads=100
set $meaniosize=16k
set $iosize=1m

define fileset name=bigfileset,path=$dir,size=$meanfilesize,entries=$nfiles,dirwidth=$meandirwidth,prealloc=80

define process name=proxycache,instances=1
{
thread name=proxycache,memsize=10m,instances=$nthreads
{
flowop deletefile name=deletefile1,filesetname=bigfileset
flowop createfile name=createfile1,filesetname=bigfileset,fd=1
flowop appendfilerand name=appendfilerand1,iosize=$meaniosize,fd=1
flowop closefile name=closefile1,fd=1
flowop openfile name=openfile2,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile2,fd=1,iosize=$iosize
flowop closefile name=closefile2,fd=1
flowop openfile name=openfile3,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile3,fd=1,iosize=$iosize
flowop closefile name=closefile3,fd=1
flowop openfile name=openfile4,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile4,fd=1,iosize=$iosize
flowop closefile name=closefile4,fd=1
flowop openfile name=openfile5,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile5,fd=1,iosize=$iosize
flowop closefile name=closefile5,fd=1
flowop openfile name=openfile6,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile6,fd=1,iosize=$iosize
flowop closefile name=closefile6,fd=1
flowop opslimit name=limit
}
}


set $nthreads=8
set $dir=/root/share/fxmark/bin/root
run 30
filebench
b'Filebench Version 1.5-alpha3\n'
b'0.000: Allocated 177MB of shared memory\n'
b'0.002: Populating and pre-allocating filesets\n'
b'0.006: bigfileset populated: 10000 files, avg. dir. width = 1000000, avg. dir. depth = 0.7, 0 leafdirs, 156.250MB total size\n'
b'0.006: Removing bigfileset tree (if exists)\n'
b'0.012: Pre-allocating directories in bigfileset tree\n'
b'0.016: Pre-allocating files in bigfileset tree\n'
b'0.354: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)\n'
b'0.354: Population and pre-allocation of filesets completed\n'
b'0.355: Starting 1 proxycache instances\n'
b'1.362: Running...\n'
b'31.367: Run took 30 seconds...\n'
b'31.368: Per-Operation Breakdown\n'
b'limit                0ops        0ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.000ms]\n'
b'closefile6           119093ops     3969ops/s   0.0mb/s    0.006ms/op [0.002ms - 0.298ms]\n'
b'readfile6            119093ops     3969ops/s  33.1mb/s    0.015ms/op [0.004ms - 0.138ms]\n'
b'openfile6            119093ops     3969ops/s   0.0mb/s    0.013ms/op [0.004ms - 0.580ms]\n'
b'closefile5           119093ops     3969ops/s   0.0mb/s    0.006ms/op [0.002ms - 0.076ms]\n'
b'readfile5            119093ops     3969ops/s  33.1mb/s    0.015ms/op [0.004ms - 0.315ms]\n'
b'openfile5            119093ops     3969ops/s   0.0mb/s    0.013ms/op [0.004ms - 0.724ms]\n'
b'closefile4           119093ops     3969ops/s   0.0mb/s    0.006ms/op [0.002ms - 0.071ms]\n'
b'readfile4            119093ops     3969ops/s  33.1mb/s    0.015ms/op [0.004ms - 1.986ms]\n'
b'openfile4            119093ops     3969ops/s   0.0mb/s    0.013ms/op [0.004ms - 0.604ms]\n'
b'closefile3           119093ops     3969ops/s   0.0mb/s    0.006ms/op [0.002ms - 0.074ms]\n'
b'readfile3            119093ops     3969ops/s  33.1mb/s    0.015ms/op [0.004ms - 0.937ms]\n'
b'openfile3            119093ops     3969ops/s   0.0mb/s    0.013ms/op [0.005ms - 0.176ms]\n'
b'closefile2           119093ops     3969ops/s   0.0mb/s    0.006ms/op [0.002ms - 0.460ms]\n'
b'readfile2            119093ops     3969ops/s  33.2mb/s    0.017ms/op [0.004ms - 0.630ms]\n'
b'openfile2            119093ops     3969ops/s   0.0mb/s    0.016ms/op [0.005ms - 0.769ms]\n'
b'closefile1           119093ops     3969ops/s   0.0mb/s    0.023ms/op [0.007ms - 0.116ms]\n'
b'appendfilerand1      119093ops     3969ops/s  31.0mb/s    0.032ms/op [0.008ms - 6.507ms]\n'
b'createfile1          119093ops     3969ops/s   0.0mb/s    0.625ms/op [0.045ms - 155.436ms]\n'
b'deletefile1          119086ops     3969ops/s   0.0mb/s    1.020ms/op [0.056ms - 155.298ms]\n'
b'31.368: IO Summary: 2262760 ops 75414.665 ops/s 19846/3969 rd/wr 196.6mb/s 0.099ms/op\n'
b'31.368: Shutting down processes\n'
[ops]:[75414.665]
[media]:[ssd],[fs]:[xfs]
---------------------------
-----------start-----------
## ssd:xfs:filebench_varmail:NAME_Varmail:8:bufferedio
[bench_name]:[Varmail]
# auto generated by fxmark#
# CDDL HEADER START
#
# The contents of this file are subject to the terms of the
# Common Development and Distribution License (the "License").
# You may not use this file except in compliance with the License.
#
# You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
# or http://www.opensolaris.org/os/licensing.
# See the License for the specific language governing permissions
# and limitations under the License.
#
# When distributing Covered Code, include this CDDL HEADER in each
# file and include the License file at usr/src/OPENSOLARIS.LICENSE.
# If applicable, add the following below this CDDL HEADER, with the
# fields enclosed by brackets "[]" replaced with your own identifying
# information: Portions Copyright [yyyy] [name of copyright owner]
#
# CDDL HEADER END
#
#
# Copyright 2007 Sun Microsystems, Inc.  All rights reserved.
# Use is subject to license terms.
#

set $dir=/tmp
set $nfiles=1000
set $meandirwidth=1000000
set $meanfilesize=16k
set $nthreads=16
set $iosize=1m
set $meanappendsize=16k

define fileset name=bigfileset,path=$dir,size=$meanfilesize,entries=$nfiles,dirwidth=$meandirwidth,prealloc=80

define process name=filereader,instances=1
{
thread name=filereaderthread,memsize=10m,instances=$nthreads
{
flowop deletefile name=deletefile1,filesetname=bigfileset
flowop createfile name=createfile2,filesetname=bigfileset,fd=1
flowop appendfilerand name=appendfilerand2,iosize=$meanappendsize,fd=1
flowop fsync name=fsyncfile2,fd=1
flowop closefile name=closefile2,fd=1
flowop openfile name=openfile3,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile3,fd=1,iosize=$iosize
flowop appendfilerand name=appendfilerand3,iosize=$meanappendsize,fd=1
flowop fsync name=fsyncfile3,fd=1
flowop closefile name=closefile3,fd=1
flowop openfile name=openfile4,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile4,fd=1,iosize=$iosize
flowop closefile name=closefile4,fd=1
}
}


####################################
# re-configured values by fxmark
####################################
# set $dir=[test partition]
# set $nthreads=[$cpu * 2]
# run [benchmark time]
set $nthreads=8
set $dir=/root/share/fxmark/bin/root
run 30
filebench
b'Filebench Version 1.5-alpha3\n'
b'0.000: Allocated 177MB of shared memory\n'
b'0.002: Populating and pre-allocating filesets\n'
b'0.002: bigfileset populated: 1000 files, avg. dir. width = 1000000, avg. dir. depth = 0.5, 0 leafdirs, 15.625MB total size\n'
b'0.002: Removing bigfileset tree (if exists)\n'
b'0.008: Pre-allocating directories in bigfileset tree\n'
b'0.012: Pre-allocating files in bigfileset tree\n'
b'0.044: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)\n'
b'0.044: Population and pre-allocation of filesets completed\n'
b'0.044: Starting 1 filereader instances\n'
b'1.052: Running...\n'
b'31.057: Run took 30 seconds...\n'
b'31.057: Per-Operation Breakdown\n'
b'closefile4           4958ops      165ops/s   0.0mb/s    0.008ms/op [0.005ms - 0.084ms]\n'
b'readfile4            4958ops      165ops/s   2.5mb/s    0.038ms/op [0.016ms - 0.146ms]\n'
b'openfile4            4958ops      165ops/s   0.0mb/s    0.028ms/op [0.014ms - 0.101ms]\n'
b'closefile3           4958ops      165ops/s   0.0mb/s    0.016ms/op [0.008ms - 1.920ms]\n'
b'fsyncfile3           4958ops      165ops/s   0.0mb/s   27.679ms/op [5.079ms - 98.955ms]\n'
b'appendfilerand3      4960ops      165ops/s   1.3mb/s    0.043ms/op [0.019ms - 0.126ms]\n'
b'readfile3            4960ops      165ops/s   2.5mb/s    0.038ms/op [0.015ms - 0.142ms]\n'
b'openfile3            4960ops      165ops/s   0.0mb/s    0.028ms/op [0.017ms - 0.110ms]\n'
b'closefile2           4960ops      165ops/s   0.0mb/s    0.016ms/op [0.010ms - 1.380ms]\n'
b'fsyncfile2           4960ops      165ops/s   0.0mb/s   19.998ms/op [5.605ms - 63.828ms]\n'
b'appendfilerand2      4966ops      166ops/s   1.3mb/s    0.037ms/op [0.019ms - 0.126ms]\n'
b'createfile2          4966ops      166ops/s   0.0mb/s    0.117ms/op [0.080ms - 0.749ms]\n'
b'deletefile1          4966ops      166ops/s   0.0mb/s    0.226ms/op [0.148ms - 0.933ms]\n'
b'31.057: IO Summary: 64488 ops 2149.277 ops/s 331/331 rd/wr   7.7mb/s 3.712ms/op\n'
b'31.057: Shutting down processes\n'
[ops]:[2149.277]
[media]:[ssd],[fs]:[xfs]
---------------------------
-----------start-----------
## ssd:xfs:filebench_fileserver:NAME_Fileserver:8:bufferedio
[bench_name]:[Fileserver]
# auto generated by fxmark#
# CDDL HEADER START
#
# The contents of this file are subject to the terms of the
# Common Development and Distribution License (the "License").
# You may not use this file except in compliance with the License.
#
# You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
# or http://www.opensolaris.org/os/licensing.
# See the License for the specific language governing permissions
# and limitations under the License.
#
# When distributing Covered Code, include this CDDL HEADER in each
# file and include the License file at usr/src/OPENSOLARIS.LICENSE.
# If applicable, add the following below this CDDL HEADER, with the
# fields enclosed by brackets "[]" replaced with your own identifying
# information: Portions Copyright [yyyy] [name of copyright owner]
#
# CDDL HEADER END
#
#
# Copyright 2008 Sun Microsystems, Inc.  All rights reserved.
# Use is subject to license terms.
#

set $dir=/tmp
set $nfiles=10000
set $meandirwidth=20
set $meanfilesize=128k
set $nthreads=50
set $iosize=1m
set $meanappendsize=16k

define fileset name=bigfileset,path=$dir,size=$meanfilesize,entries=$nfiles,dirwidth=$meandirwidth,prealloc=80

define process name=filereader,instances=1
{
thread name=filereaderthread,memsize=10m,instances=$nthreads
{
flowop createfile name=createfile1,filesetname=bigfileset,fd=1
flowop writewholefile name=wrtfile1,srcfd=1,fd=1,iosize=$iosize
flowop closefile name=closefile1,fd=1
flowop openfile name=openfile1,filesetname=bigfileset,fd=1
flowop appendfilerand name=appendfilerand1,iosize=$meanappendsize,fd=1
flowop closefile name=closefile2,fd=1
flowop openfile name=openfile2,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile1,fd=1,iosize=$iosize
flowop closefile name=closefile3,fd=1
flowop deletefile name=deletefile1,filesetname=bigfileset
flowop statfile name=statfile1,filesetname=bigfileset
}
}




####################################
# re-configured values by fxmark
####################################
# set $dir=[test partition]
# set $nthreads=[$cpu * 2]
# run [benchmark time]

set $nthreads=8
set $dir=/root/share/fxmark/bin/root
run 10
filebench
b'Filebench Version 1.5-alpha3\n'
b'0.000: Allocated 177MB of shared memory\n'
b'0.002: Populating and pre-allocating filesets\n'
b'0.007: bigfileset populated: 10000 files, avg. dir. width = 20, avg. dir. depth = 3.1, 0 leafdirs, 1250.000MB total size\n'
b'0.007: Removing bigfileset tree (if exists)\n'
b'0.012: Pre-allocating directories in bigfileset tree\n'
b'0.038: Pre-allocating files in bigfileset tree\n'
b'0.770: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)\n'
b'0.770: Population and pre-allocation of filesets completed\n'
b'0.771: Starting 1 filereader instances\n'
b'1.778: Running...\n'
b'11.780: Run took 10 seconds...\n'
b'11.781: Per-Operation Breakdown\n'
b'statfile1            50417ops     5041ops/s   0.0mb/s    0.010ms/op [0.002ms - 0.678ms]\n'
b'deletefile1          50418ops     5041ops/s   0.0mb/s    0.576ms/op [0.035ms - 152.830ms]\n'
b'closefile3           50420ops     5041ops/s   0.0mb/s    0.005ms/op [0.001ms - 0.699ms]\n'
b'readfile1            50421ops     5041ops/s 662.4mb/s    0.082ms/op [0.028ms - 0.850ms]\n'
b'openfile2            50421ops     5041ops/s   0.0mb/s    0.016ms/op [0.004ms - 0.870ms]\n'
b'closefile2           50421ops     5041ops/s   0.0mb/s    0.005ms/op [0.001ms - 0.719ms]\n'
b'appendfilerand1      50421ops     5041ops/s  39.2mb/s    0.028ms/op [0.006ms - 0.786ms]\n'
b'openfile1            50421ops     5041ops/s   0.0mb/s    0.019ms/op [0.004ms - 0.960ms]\n'
b'closefile1           50422ops     5042ops/s   0.0mb/s    0.019ms/op [0.005ms - 0.753ms]\n'
b'wrtfile1             50423ops     5042ops/s 630.2mb/s    0.161ms/op [0.063ms - 2.927ms]\n'
b'createfile1          50424ops     5042ops/s   0.0mb/s    0.559ms/op [0.020ms - 152.650ms]\n'
b'11.781: IO Summary: 554629 ops 55455.796 ops/s 5041/10083 rd/wr 1331.8mb/s 0.134ms/op\n'
b'11.781: Shutting down processes\n'
[ops]:[55455.796]
[media]:[ssd],[fs]:[xfs]
---------------------------
### NUM_TEST_CONF  = 3
### SYSTEM         = Linux p2cache 5.4.225 #9 SMP Sun May 7 21:08:00 UTC 2023 x86_64 x86_64 x86_64 GNU/Linux
### DISK_SIZE      = 128G
### DURATION       = 30s
### DIRECTIO       = bufferedio,directio
### MEDIA_TYPES    = mem,pmem,ssd
### FS_TYPES       = tmpfs,p2cache,nova,ext4_dax,xfs_dax,ext4,xfs,ext4_dj
### BENCH_TYPES    = filebench_webproxy:NAME_Webproxy,filebench_varmail:NAME_Varmail,filebench_fileserver:NAME_Fileserver
### NCORES         = 1,2,4,6,8,10,12
### CORE_SEQ       = 0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23


### MODEL_NAME     = Intel(R) Xeon(R) Gold 5317 CPU @ 3.00GHz
### PHYSICAL_CHIPS = 2
### CORE_PER_CHIP  = 12
### SMT_LEVEL      = 1


-----------start-----------
## pmem:ext4_dax:filebench_webproxy:NAME_Webproxy:8:bufferedio
[bench_name]:[Webproxy]
# auto generated by fxmark#
# CDDL HEADER START
#
# The contents of this file are subject to the terms of the
# Common Development and Distribution License (the "License").
# You may not use this file except in compliance with the License.
#
# You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
# or http://www.opensolaris.org/os/licensing.
# See the License for the specific language governing permissions
# and limitations under the License.
#
# When distributing Covered Code, include this CDDL HEADER in each
# file and include the License file at usr/src/OPENSOLARIS.LICENSE.
# If applicable, add the following below this CDDL HEADER, with the
# fields enclosed by brackets "[]" replaced with your own identifying
# information: Portions Copyright [yyyy] [name of copyright owner]
#
# CDDL HEADER END
#
#
# Copyright 2008 Sun Microsystems, Inc.  All rights reserved.
# Use is subject to license terms.
#

set $dir=/tmp
set $nfiles=10000
set $meandirwidth=1000000
set $meanfilesize=16k
set $nthreads=100
set $meaniosize=16k
set $iosize=1m

define fileset name=bigfileset,path=$dir,size=$meanfilesize,entries=$nfiles,dirwidth=$meandirwidth,prealloc=80

define process name=proxycache,instances=1
{
thread name=proxycache,memsize=10m,instances=$nthreads
{
flowop deletefile name=deletefile1,filesetname=bigfileset
flowop createfile name=createfile1,filesetname=bigfileset,fd=1
flowop appendfilerand name=appendfilerand1,iosize=$meaniosize,fd=1
flowop closefile name=closefile1,fd=1
flowop openfile name=openfile2,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile2,fd=1,iosize=$iosize
flowop closefile name=closefile2,fd=1
flowop openfile name=openfile3,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile3,fd=1,iosize=$iosize
flowop closefile name=closefile3,fd=1
flowop openfile name=openfile4,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile4,fd=1,iosize=$iosize
flowop closefile name=closefile4,fd=1
flowop openfile name=openfile5,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile5,fd=1,iosize=$iosize
flowop closefile name=closefile5,fd=1
flowop openfile name=openfile6,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile6,fd=1,iosize=$iosize
flowop closefile name=closefile6,fd=1
flowop opslimit name=limit
}
}


set $nthreads=8
set $dir=/root/share/fxmark/bin/root
run 30
filebench
b'Filebench Version 1.5-alpha3\n'
b'0.000: Allocated 177MB of shared memory\n'
b'0.002: Populating and pre-allocating filesets\n'
b'0.006: bigfileset populated: 10000 files, avg. dir. width = 1000000, avg. dir. depth = 0.7, 0 leafdirs, 156.250MB total size\n'
b'0.006: Removing bigfileset tree (if exists)\n'
b'0.012: Pre-allocating directories in bigfileset tree\n'
b'0.012: Pre-allocating files in bigfileset tree\n'
b'0.526: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)\n'
b'0.526: Population and pre-allocation of filesets completed\n'
b'0.526: Starting 1 proxycache instances\n'
b'1.534: Running...\n'
b'31.537: Run took 30 seconds...\n'
b'31.537: Per-Operation Breakdown\n'
b'limit                0ops        0ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.000ms]\n'
b'closefile6           1047408ops    34911ops/s   0.0mb/s    0.002ms/op [0.001ms - 1.343ms]\n'
b'readfile6            1047408ops    34911ops/s 274.5mb/s    0.006ms/op [0.001ms - 1.412ms]\n'
b'openfile6            1047409ops    34911ops/s   0.0mb/s    0.005ms/op [0.002ms - 1.557ms]\n'
b'closefile5           1047409ops    34911ops/s   0.0mb/s    0.002ms/op [0.001ms - 1.363ms]\n'
b'readfile5            1047409ops    34911ops/s 274.6mb/s    0.006ms/op [0.001ms - 1.407ms]\n'
b'openfile5            1047410ops    34911ops/s   0.0mb/s    0.005ms/op [0.002ms - 1.952ms]\n'
b'closefile4           1047410ops    34911ops/s   0.0mb/s    0.002ms/op [0.001ms - 1.394ms]\n'
b'readfile4            1047410ops    34911ops/s 274.8mb/s    0.006ms/op [0.001ms - 1.997ms]\n'
b'openfile4            1047410ops    34911ops/s   0.0mb/s    0.005ms/op [0.002ms - 1.930ms]\n'
b'closefile3           1047410ops    34911ops/s   0.0mb/s    0.002ms/op [0.001ms - 1.378ms]\n'
b'readfile3            1047410ops    34911ops/s 274.4mb/s    0.006ms/op [0.001ms - 2.052ms]\n'
b'openfile3            1047410ops    34911ops/s   0.0mb/s    0.005ms/op [0.002ms - 1.401ms]\n'
b'closefile2           1047411ops    34911ops/s   0.0mb/s    0.002ms/op [0.001ms - 1.479ms]\n'
b'readfile2            1047411ops    34911ops/s 274.5mb/s    0.007ms/op [0.001ms - 1.991ms]\n'
b'openfile2            1047412ops    34911ops/s   0.0mb/s    0.005ms/op [0.002ms - 1.484ms]\n'
b'closefile1           1047412ops    34911ops/s   0.0mb/s    0.001ms/op [0.001ms - 1.347ms]\n'
b'appendfilerand1      1047414ops    34911ops/s 272.6mb/s    0.023ms/op [0.017ms - 2.435ms]\n'
b'createfile1          1047414ops    34911ops/s   0.0mb/s    0.037ms/op [0.017ms - 3.106ms]\n'
b'deletefile1          1047263ops    34906ops/s   0.0mb/s    0.050ms/op [0.022ms - 11.964ms]\n'
b'31.537: IO Summary: 19900650 ops 663308.812 ops/s 174556/34911 rd/wr 1645.4mb/s 0.009ms/op\n'
b'31.537: Shutting down processes\n'
[ops]:[663308.812]
[media]:[pmem],[fs]:[ext4_dax]
---------------------------
-----------start-----------
## pmem:ext4_dax:filebench_varmail:NAME_Varmail:8:bufferedio
[bench_name]:[Varmail]
# auto generated by fxmark#
# CDDL HEADER START
#
# The contents of this file are subject to the terms of the
# Common Development and Distribution License (the "License").
# You may not use this file except in compliance with the License.
#
# You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
# or http://www.opensolaris.org/os/licensing.
# See the License for the specific language governing permissions
# and limitations under the License.
#
# When distributing Covered Code, include this CDDL HEADER in each
# file and include the License file at usr/src/OPENSOLARIS.LICENSE.
# If applicable, add the following below this CDDL HEADER, with the
# fields enclosed by brackets "[]" replaced with your own identifying
# information: Portions Copyright [yyyy] [name of copyright owner]
#
# CDDL HEADER END
#
#
# Copyright 2007 Sun Microsystems, Inc.  All rights reserved.
# Use is subject to license terms.
#

set $dir=/tmp
set $nfiles=1000
set $meandirwidth=1000000
set $meanfilesize=16k
set $nthreads=16
set $iosize=1m
set $meanappendsize=16k

define fileset name=bigfileset,path=$dir,size=$meanfilesize,entries=$nfiles,dirwidth=$meandirwidth,prealloc=80

define process name=filereader,instances=1
{
thread name=filereaderthread,memsize=10m,instances=$nthreads
{
flowop deletefile name=deletefile1,filesetname=bigfileset
flowop createfile name=createfile2,filesetname=bigfileset,fd=1
flowop appendfilerand name=appendfilerand2,iosize=$meanappendsize,fd=1
flowop fsync name=fsyncfile2,fd=1
flowop closefile name=closefile2,fd=1
flowop openfile name=openfile3,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile3,fd=1,iosize=$iosize
flowop appendfilerand name=appendfilerand3,iosize=$meanappendsize,fd=1
flowop fsync name=fsyncfile3,fd=1
flowop closefile name=closefile3,fd=1
flowop openfile name=openfile4,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile4,fd=1,iosize=$iosize
flowop closefile name=closefile4,fd=1
}
}


####################################
# re-configured values by fxmark
####################################
# set $dir=[test partition]
# set $nthreads=[$cpu * 2]
# run [benchmark time]
set $nthreads=8
set $dir=/root/share/fxmark/bin/root
run 30
filebench
b'Filebench Version 1.5-alpha3\n'
b'0.000: Allocated 177MB of shared memory\n'
b'0.002: Populating and pre-allocating filesets\n'
b'0.002: bigfileset populated: 1000 files, avg. dir. width = 1000000, avg. dir. depth = 0.5, 0 leafdirs, 15.625MB total size\n'
b'0.002: Removing bigfileset tree (if exists)\n'
b'0.008: Pre-allocating directories in bigfileset tree\n'
b'0.008: Pre-allocating files in bigfileset tree\n'
b'0.058: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)\n'
b'0.058: Population and pre-allocation of filesets completed\n'
b'0.059: Starting 1 filereader instances\n'
b'1.066: Running...\n'
b'31.071: Run took 30 seconds...\n'
b'31.071: Per-Operation Breakdown\n'
b'closefile4           69261ops     2308ops/s   0.0mb/s    0.004ms/op [0.001ms - 0.082ms]\n'
b'readfile4            69265ops     2309ops/s  36.1mb/s    0.151ms/op [0.004ms - 6.192ms]\n'
b'openfile4            69265ops     2309ops/s   0.0mb/s    0.015ms/op [0.002ms - 0.403ms]\n'
b'closefile3           69265ops     2309ops/s   0.0mb/s    0.007ms/op [0.001ms - 0.091ms]\n'
b'fsyncfile3           69265ops     2309ops/s   0.0mb/s    0.649ms/op [0.053ms - 7.400ms]\n'
b'appendfilerand3      69267ops     2309ops/s  18.0mb/s    0.217ms/op [0.006ms - 6.075ms]\n'
b'readfile3            69267ops     2309ops/s  36.0mb/s    0.149ms/op [0.004ms - 4.874ms]\n'
b'openfile3            69267ops     2309ops/s   0.0mb/s    0.015ms/op [0.003ms - 0.630ms]\n'
b'closefile2           69267ops     2309ops/s   0.0mb/s    0.007ms/op [0.001ms - 0.088ms]\n'
b'fsyncfile2           69268ops     2309ops/s   0.0mb/s    0.667ms/op [0.077ms - 7.429ms]\n'
b'appendfilerand2      69269ops     2309ops/s  18.0mb/s    0.288ms/op [0.019ms - 5.994ms]\n'
b'createfile2          69269ops     2309ops/s   0.0mb/s    0.534ms/op [0.019ms - 8.393ms]\n'
b'deletefile1          69269ops     2309ops/s   0.0mb/s    0.693ms/op [0.032ms - 8.442ms]\n'
b'31.071: IO Summary: 900464 ops 30011.417 ops/s 4617/4617 rd/wr 108.0mb/s 0.261ms/op\n'
b'31.071: Shutting down processes\n'
[ops]:[30011.417]
[media]:[pmem],[fs]:[ext4_dax]
---------------------------
-----------start-----------
## pmem:ext4_dax:filebench_fileserver:NAME_Fileserver:8:bufferedio
[bench_name]:[Fileserver]
# auto generated by fxmark#
# CDDL HEADER START
#
# The contents of this file are subject to the terms of the
# Common Development and Distribution License (the "License").
# You may not use this file except in compliance with the License.
#
# You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
# or http://www.opensolaris.org/os/licensing.
# See the License for the specific language governing permissions
# and limitations under the License.
#
# When distributing Covered Code, include this CDDL HEADER in each
# file and include the License file at usr/src/OPENSOLARIS.LICENSE.
# If applicable, add the following below this CDDL HEADER, with the
# fields enclosed by brackets "[]" replaced with your own identifying
# information: Portions Copyright [yyyy] [name of copyright owner]
#
# CDDL HEADER END
#
#
# Copyright 2008 Sun Microsystems, Inc.  All rights reserved.
# Use is subject to license terms.
#

set $dir=/tmp
set $nfiles=10000
set $meandirwidth=20
set $meanfilesize=128k
set $nthreads=50
set $iosize=1m
set $meanappendsize=16k

define fileset name=bigfileset,path=$dir,size=$meanfilesize,entries=$nfiles,dirwidth=$meandirwidth,prealloc=80

define process name=filereader,instances=1
{
thread name=filereaderthread,memsize=10m,instances=$nthreads
{
flowop createfile name=createfile1,filesetname=bigfileset,fd=1
flowop writewholefile name=wrtfile1,srcfd=1,fd=1,iosize=$iosize
flowop closefile name=closefile1,fd=1
flowop openfile name=openfile1,filesetname=bigfileset,fd=1
flowop appendfilerand name=appendfilerand1,iosize=$meanappendsize,fd=1
flowop closefile name=closefile2,fd=1
flowop openfile name=openfile2,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile1,fd=1,iosize=$iosize
flowop closefile name=closefile3,fd=1
flowop deletefile name=deletefile1,filesetname=bigfileset
flowop statfile name=statfile1,filesetname=bigfileset
}
}




####################################
# re-configured values by fxmark
####################################
# set $dir=[test partition]
# set $nthreads=[$cpu * 2]
# run [benchmark time]

set $nthreads=8
set $dir=/root/share/fxmark/bin/root
run 10
filebench
b'Filebench Version 1.5-alpha3\n'
b'0.000: Allocated 177MB of shared memory\n'
b'0.002: Populating and pre-allocating filesets\n'
b'0.007: bigfileset populated: 10000 files, avg. dir. width = 20, avg. dir. depth = 3.1, 0 leafdirs, 1250.000MB total size\n'
b'0.007: Removing bigfileset tree (if exists)\n'
b'0.012: Pre-allocating directories in bigfileset tree\n'
b'0.034: Pre-allocating files in bigfileset tree\n'
b'1.385: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)\n'
b'1.385: Population and pre-allocation of filesets completed\n'
b'1.386: Starting 1 filereader instances\n'
b'2.394: Running...\n'
b'12.396: Run took 10 seconds...\n'
b'12.396: Per-Operation Breakdown\n'
b'statfile1            251936ops    25191ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.253ms]\n'
b'deletefile1          251937ops    25191ops/s   0.0mb/s    0.042ms/op [0.028ms - 1.699ms]\n'
b'closefile3           251938ops    25191ops/s   0.0mb/s    0.002ms/op [0.001ms - 0.254ms]\n'
b'readfile1            251939ops    25191ops/s 3343.1mb/s    0.029ms/op [0.015ms - 34.821ms]\n'
b'openfile2            251939ops    25191ops/s   0.0mb/s    0.005ms/op [0.003ms - 0.894ms]\n'
b'closefile2           251939ops    25191ops/s   0.0mb/s    0.003ms/op [0.001ms - 1.641ms]\n'
b'appendfilerand1      251940ops    25192ops/s 197.0mb/s    0.034ms/op [0.006ms - 1.684ms]\n'
b'openfile1            251941ops    25192ops/s   0.0mb/s    0.005ms/op [0.003ms - 1.083ms]\n'
b'closefile1           251941ops    25192ops/s   0.0mb/s    0.002ms/op [0.001ms - 0.591ms]\n'
b'wrtfile1             251941ops    25192ops/s 3149.0mb/s    0.139ms/op [0.030ms - 1.795ms]\n'
b'createfile1          251944ops    25192ops/s   0.0mb/s    0.026ms/op [0.017ms - 3.244ms]\n'
b'12.396: IO Summary: 2771335 ops 277106.842 ops/s 25191/50383 rd/wr 6689.0mb/s 0.026ms/op\n'
b'12.396: Shutting down processes\n'
[ops]:[277106.842]
[media]:[pmem],[fs]:[ext4_dax]
---------------------------
### NUM_TEST_CONF  = 3
### SYSTEM         = Linux p2cache 5.4.225 #9 SMP Sun May 7 21:08:00 UTC 2023 x86_64 x86_64 x86_64 GNU/Linux
### DISK_SIZE      = 128G
### DURATION       = 30s
### DIRECTIO       = bufferedio,directio
### MEDIA_TYPES    = mem,pmem,ssd
### FS_TYPES       = tmpfs,p2cache,nova,ext4_dax,xfs_dax,ext4,xfs,ext4_dj
### BENCH_TYPES    = filebench_webproxy:NAME_Webproxy,filebench_varmail:NAME_Varmail,filebench_fileserver:NAME_Fileserver
### NCORES         = 1,2,4,6,8,10,12
### CORE_SEQ       = 0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23


### MODEL_NAME     = Intel(R) Xeon(R) Gold 5317 CPU @ 3.00GHz
### PHYSICAL_CHIPS = 2
### CORE_PER_CHIP  = 12
### SMT_LEVEL      = 1


-----------start-----------
## pmem:xfs_dax:filebench_webproxy:NAME_Webproxy:8:bufferedio
[bench_name]:[Webproxy]
# auto generated by fxmark#
# CDDL HEADER START
#
# The contents of this file are subject to the terms of the
# Common Development and Distribution License (the "License").
# You may not use this file except in compliance with the License.
#
# You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
# or http://www.opensolaris.org/os/licensing.
# See the License for the specific language governing permissions
# and limitations under the License.
#
# When distributing Covered Code, include this CDDL HEADER in each
# file and include the License file at usr/src/OPENSOLARIS.LICENSE.
# If applicable, add the following below this CDDL HEADER, with the
# fields enclosed by brackets "[]" replaced with your own identifying
# information: Portions Copyright [yyyy] [name of copyright owner]
#
# CDDL HEADER END
#
#
# Copyright 2008 Sun Microsystems, Inc.  All rights reserved.
# Use is subject to license terms.
#

set $dir=/tmp
set $nfiles=10000
set $meandirwidth=1000000
set $meanfilesize=16k
set $nthreads=100
set $meaniosize=16k
set $iosize=1m

define fileset name=bigfileset,path=$dir,size=$meanfilesize,entries=$nfiles,dirwidth=$meandirwidth,prealloc=80

define process name=proxycache,instances=1
{
thread name=proxycache,memsize=10m,instances=$nthreads
{
flowop deletefile name=deletefile1,filesetname=bigfileset
flowop createfile name=createfile1,filesetname=bigfileset,fd=1
flowop appendfilerand name=appendfilerand1,iosize=$meaniosize,fd=1
flowop closefile name=closefile1,fd=1
flowop openfile name=openfile2,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile2,fd=1,iosize=$iosize
flowop closefile name=closefile2,fd=1
flowop openfile name=openfile3,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile3,fd=1,iosize=$iosize
flowop closefile name=closefile3,fd=1
flowop openfile name=openfile4,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile4,fd=1,iosize=$iosize
flowop closefile name=closefile4,fd=1
flowop openfile name=openfile5,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile5,fd=1,iosize=$iosize
flowop closefile name=closefile5,fd=1
flowop openfile name=openfile6,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile6,fd=1,iosize=$iosize
flowop closefile name=closefile6,fd=1
flowop opslimit name=limit
}
}


set $nthreads=8
set $dir=/root/share/fxmark/bin/root
run 30
filebench
b'Filebench Version 1.5-alpha3\n'
b'0.000: Allocated 177MB of shared memory\n'
b'0.002: Populating and pre-allocating filesets\n'
b'0.006: bigfileset populated: 10000 files, avg. dir. width = 1000000, avg. dir. depth = 0.7, 0 leafdirs, 156.250MB total size\n'
b'0.006: Removing bigfileset tree (if exists)\n'
b'0.012: Pre-allocating directories in bigfileset tree\n'
b'0.012: Pre-allocating files in bigfileset tree\n'
b'0.504: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)\n'
b'0.504: Population and pre-allocation of filesets completed\n'
b'0.505: Starting 1 proxycache instances\n'
b'1.513: Running...\n'
b'31.518: Run took 30 seconds...\n'
b'31.519: Per-Operation Breakdown\n'
b'limit                0ops        0ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.000ms]\n'
b'closefile6           115575ops     3852ops/s   0.0mb/s    0.006ms/op [0.001ms - 0.684ms]\n'
b'readfile6            115575ops     3852ops/s  32.1mb/s    0.015ms/op [0.005ms - 1.337ms]\n'
b'openfile6            115575ops     3852ops/s   0.0mb/s    0.013ms/op [0.004ms - 2.734ms]\n'
b'closefile5           115576ops     3852ops/s   0.0mb/s    0.006ms/op [0.001ms - 0.364ms]\n'
b'readfile5            115576ops     3852ops/s  32.2mb/s    0.015ms/op [0.004ms - 2.336ms]\n'
b'openfile5            115576ops     3852ops/s   0.0mb/s    0.013ms/op [0.003ms - 2.495ms]\n'
b'closefile4           115576ops     3852ops/s   0.0mb/s    0.006ms/op [0.001ms - 0.090ms]\n'
b'readfile4            115576ops     3852ops/s  32.2mb/s    0.015ms/op [0.005ms - 1.004ms]\n'
b'openfile4            115576ops     3852ops/s   0.0mb/s    0.013ms/op [0.004ms - 2.161ms]\n'
b'closefile3           115576ops     3852ops/s   0.0mb/s    0.006ms/op [0.001ms - 0.893ms]\n'
b'readfile3            115576ops     3852ops/s  32.1mb/s    0.015ms/op [0.005ms - 2.900ms]\n'
b'openfile3            115577ops     3852ops/s   0.0mb/s    0.013ms/op [0.004ms - 3.253ms]\n'
b'closefile2           115577ops     3852ops/s   0.0mb/s    0.006ms/op [0.001ms - 0.531ms]\n'
b'readfile2            115577ops     3852ops/s  32.1mb/s    0.018ms/op [0.006ms - 1.399ms]\n'
b'openfile2            115577ops     3852ops/s   0.0mb/s    0.017ms/op [0.005ms - 2.388ms]\n'
b'closefile1           115577ops     3852ops/s   0.0mb/s    0.009ms/op [0.003ms - 0.644ms]\n'
b'appendfilerand1      115578ops     3852ops/s  30.1mb/s    0.158ms/op [0.035ms - 18.618ms]\n'
b'createfile1          115579ops     3852ops/s   0.0mb/s    0.671ms/op [0.046ms - 38.154ms]\n'
b'deletefile1          115570ops     3852ops/s   0.0mb/s    0.918ms/op [0.081ms - 39.950ms]\n'
b'31.519: IO Summary: 2195945 ops 73188.157 ops/s 19260/3852 rd/wr 190.9mb/s 0.102ms/op\n'
b'31.519: Shutting down processes\n'
[ops]:[73188.157]
[media]:[pmem],[fs]:[xfs_dax]
---------------------------
-----------start-----------
## pmem:xfs_dax:filebench_varmail:NAME_Varmail:8:bufferedio
[bench_name]:[Varmail]
# auto generated by fxmark#
# CDDL HEADER START
#
# The contents of this file are subject to the terms of the
# Common Development and Distribution License (the "License").
# You may not use this file except in compliance with the License.
#
# You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
# or http://www.opensolaris.org/os/licensing.
# See the License for the specific language governing permissions
# and limitations under the License.
#
# When distributing Covered Code, include this CDDL HEADER in each
# file and include the License file at usr/src/OPENSOLARIS.LICENSE.
# If applicable, add the following below this CDDL HEADER, with the
# fields enclosed by brackets "[]" replaced with your own identifying
# information: Portions Copyright [yyyy] [name of copyright owner]
#
# CDDL HEADER END
#
#
# Copyright 2007 Sun Microsystems, Inc.  All rights reserved.
# Use is subject to license terms.
#

set $dir=/tmp
set $nfiles=1000
set $meandirwidth=1000000
set $meanfilesize=16k
set $nthreads=16
set $iosize=1m
set $meanappendsize=16k

define fileset name=bigfileset,path=$dir,size=$meanfilesize,entries=$nfiles,dirwidth=$meandirwidth,prealloc=80

define process name=filereader,instances=1
{
thread name=filereaderthread,memsize=10m,instances=$nthreads
{
flowop deletefile name=deletefile1,filesetname=bigfileset
flowop createfile name=createfile2,filesetname=bigfileset,fd=1
flowop appendfilerand name=appendfilerand2,iosize=$meanappendsize,fd=1
flowop fsync name=fsyncfile2,fd=1
flowop closefile name=closefile2,fd=1
flowop openfile name=openfile3,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile3,fd=1,iosize=$iosize
flowop appendfilerand name=appendfilerand3,iosize=$meanappendsize,fd=1
flowop fsync name=fsyncfile3,fd=1
flowop closefile name=closefile3,fd=1
flowop openfile name=openfile4,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile4,fd=1,iosize=$iosize
flowop closefile name=closefile4,fd=1
}
}


####################################
# re-configured values by fxmark
####################################
# set $dir=[test partition]
# set $nthreads=[$cpu * 2]
# run [benchmark time]
set $nthreads=8
set $dir=/root/share/fxmark/bin/root
run 30
filebench
b'Filebench Version 1.5-alpha3\n'
b'0.000: Allocated 177MB of shared memory\n'
b'0.002: Populating and pre-allocating filesets\n'
b'0.002: bigfileset populated: 1000 files, avg. dir. width = 1000000, avg. dir. depth = 0.5, 0 leafdirs, 15.625MB total size\n'
b'0.002: Removing bigfileset tree (if exists)\n'
b'0.008: Pre-allocating directories in bigfileset tree\n'
b'0.008: Pre-allocating files in bigfileset tree\n'
b'0.042: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)\n'
b'0.042: Population and pre-allocation of filesets completed\n'
b'0.042: Starting 1 filereader instances\n'
b'1.050: Running...\n'
b'31.052: Run took 30 seconds...\n'
b'31.053: Per-Operation Breakdown\n'
b'closefile4           542873ops    18095ops/s   0.0mb/s    0.002ms/op [0.001ms - 0.205ms]\n'
b'readfile4            542874ops    18095ops/s 283.0mb/s    0.007ms/op [0.001ms - 0.305ms]\n'
b'openfile4            542875ops    18095ops/s   0.0mb/s    0.004ms/op [0.002ms - 0.868ms]\n'
b'closefile3           542875ops    18095ops/s   0.0mb/s    0.002ms/op [0.001ms - 0.454ms]\n'
b'fsyncfile3           542876ops    18095ops/s   0.0mb/s    0.076ms/op [0.001ms - 2.666ms]\n'
b'appendfilerand3      542876ops    18095ops/s 141.2mb/s    0.024ms/op [0.004ms - 0.625ms]\n'
b'readfile3            542876ops    18095ops/s 282.6mb/s    0.007ms/op [0.001ms - 0.220ms]\n'
b'openfile3            542876ops    18095ops/s   0.0mb/s    0.004ms/op [0.002ms - 0.529ms]\n'
b'closefile2           542876ops    18095ops/s   0.0mb/s    0.002ms/op [0.001ms - 0.325ms]\n'
b'fsyncfile2           542878ops    18095ops/s   0.0mb/s    0.075ms/op [0.001ms - 5.791ms]\n'
b'appendfilerand2      542878ops    18095ops/s 141.5mb/s    0.030ms/op [0.014ms - 0.409ms]\n'
b'createfile2          542880ops    18095ops/s   0.0mb/s    0.068ms/op [0.021ms - 3.624ms]\n'
b'deletefile1          542881ops    18095ops/s   0.0mb/s    0.115ms/op [0.025ms - 4.153ms]\n'
b'31.053: IO Summary: 7057393 ops 235230.555 ops/s 36189/36189 rd/wr 848.2mb/s 0.032ms/op\n'
b'31.053: Shutting down processes\n'
[ops]:[235230.555]
[media]:[pmem],[fs]:[xfs_dax]
---------------------------
-----------start-----------
## pmem:xfs_dax:filebench_fileserver:NAME_Fileserver:8:bufferedio
[bench_name]:[Fileserver]
# auto generated by fxmark#
# CDDL HEADER START
#
# The contents of this file are subject to the terms of the
# Common Development and Distribution License (the "License").
# You may not use this file except in compliance with the License.
#
# You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
# or http://www.opensolaris.org/os/licensing.
# See the License for the specific language governing permissions
# and limitations under the License.
#
# When distributing Covered Code, include this CDDL HEADER in each
# file and include the License file at usr/src/OPENSOLARIS.LICENSE.
# If applicable, add the following below this CDDL HEADER, with the
# fields enclosed by brackets "[]" replaced with your own identifying
# information: Portions Copyright [yyyy] [name of copyright owner]
#
# CDDL HEADER END
#
#
# Copyright 2008 Sun Microsystems, Inc.  All rights reserved.
# Use is subject to license terms.
#

set $dir=/tmp
set $nfiles=10000
set $meandirwidth=20
set $meanfilesize=128k
set $nthreads=50
set $iosize=1m
set $meanappendsize=16k

define fileset name=bigfileset,path=$dir,size=$meanfilesize,entries=$nfiles,dirwidth=$meandirwidth,prealloc=80

define process name=filereader,instances=1
{
thread name=filereaderthread,memsize=10m,instances=$nthreads
{
flowop createfile name=createfile1,filesetname=bigfileset,fd=1
flowop writewholefile name=wrtfile1,srcfd=1,fd=1,iosize=$iosize
flowop closefile name=closefile1,fd=1
flowop openfile name=openfile1,filesetname=bigfileset,fd=1
flowop appendfilerand name=appendfilerand1,iosize=$meanappendsize,fd=1
flowop closefile name=closefile2,fd=1
flowop openfile name=openfile2,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile1,fd=1,iosize=$iosize
flowop closefile name=closefile3,fd=1
flowop deletefile name=deletefile1,filesetname=bigfileset
flowop statfile name=statfile1,filesetname=bigfileset
}
}




####################################
# re-configured values by fxmark
####################################
# set $dir=[test partition]
# set $nthreads=[$cpu * 2]
# run [benchmark time]

set $nthreads=8
set $dir=/root/share/fxmark/bin/root
run 10
filebench
b'Filebench Version 1.5-alpha3\n'
b'0.000: Allocated 177MB of shared memory\n'
b'0.002: Populating and pre-allocating filesets\n'
b'0.007: bigfileset populated: 10000 files, avg. dir. width = 20, avg. dir. depth = 3.1, 0 leafdirs, 1250.000MB total size\n'
b'0.007: Removing bigfileset tree (if exists)\n'
b'0.012: Pre-allocating directories in bigfileset tree\n'
b'0.025: Pre-allocating files in bigfileset tree\n'
b'0.900: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)\n'
b'0.900: Population and pre-allocation of filesets completed\n'
b'0.901: Starting 1 filereader instances\n'
b'1.908: Running...\n'
b'11.910: Run took 10 seconds...\n'
b'11.910: Per-Operation Breakdown\n'
b'statfile1            223721ops    22370ops/s   0.0mb/s    0.003ms/op [0.002ms - 0.689ms]\n'
b'deletefile1          223722ops    22371ops/s   0.0mb/s    0.129ms/op [0.027ms - 15.494ms]\n'
b'closefile3           223723ops    22371ops/s   0.0mb/s    0.002ms/op [0.001ms - 0.439ms]\n'
b'readfile1            223724ops    22371ops/s 2971.3mb/s    0.027ms/op [0.013ms - 0.799ms]\n'
b'openfile2            223724ops    22371ops/s   0.0mb/s    0.005ms/op [0.003ms - 0.727ms]\n'
b'closefile2           223725ops    22371ops/s   0.0mb/s    0.002ms/op [0.001ms - 0.478ms]\n'
b'appendfilerand1      223725ops    22371ops/s 174.3mb/s    0.033ms/op [0.001ms - 3.449ms]\n'
b'openfile1            223725ops    22371ops/s   0.0mb/s    0.006ms/op [0.003ms - 0.563ms]\n'
b'closefile1           223725ops    22371ops/s   0.0mb/s    0.002ms/op [0.001ms - 0.578ms]\n'
b'wrtfile1             223727ops    22371ops/s 2796.4mb/s    0.061ms/op [0.028ms - 4.200ms]\n'
b'createfile1          223729ops    22371ops/s   0.0mb/s    0.059ms/op [0.014ms - 16.209ms]\n'
b'11.910: IO Summary: 2460970 ops 246078.938 ops/s 22371/44742 rd/wr 5942.0mb/s 0.030ms/op\n'
b'11.910: Shutting down processes\n'
[ops]:[246078.938]
[media]:[pmem],[fs]:[xfs_dax]
---------------------------
### NUM_TEST_CONF  = 3
### SYSTEM         = Linux p2cache 5.4.225 #9 SMP Sun May 7 21:08:00 UTC 2023 x86_64 x86_64 x86_64 GNU/Linux
### DISK_SIZE      = 128G
### DURATION       = 30s
### DIRECTIO       = bufferedio,directio
### MEDIA_TYPES    = mem,pmem,ssd
### FS_TYPES       = tmpfs,p2cache,nova,ext4_dax,xfs_dax,ext4,xfs,ext4_dj
### BENCH_TYPES    = filebench_webproxy:NAME_Webproxy,filebench_varmail:NAME_Varmail,filebench_fileserver:NAME_Fileserver
### NCORES         = 1,2,4,6,8,10,12
### CORE_SEQ       = 0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23


### MODEL_NAME     = Intel(R) Xeon(R) Gold 5317 CPU @ 3.00GHz
### PHYSICAL_CHIPS = 2
### CORE_PER_CHIP  = 12
### SMT_LEVEL      = 1


-----------start-----------
## pmem:nova:filebench_webproxy:NAME_Webproxy:8:bufferedio
[bench_name]:[Webproxy]
# auto generated by fxmark#
# CDDL HEADER START
#
# The contents of this file are subject to the terms of the
# Common Development and Distribution License (the "License").
# You may not use this file except in compliance with the License.
#
# You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
# or http://www.opensolaris.org/os/licensing.
# See the License for the specific language governing permissions
# and limitations under the License.
#
# When distributing Covered Code, include this CDDL HEADER in each
# file and include the License file at usr/src/OPENSOLARIS.LICENSE.
# If applicable, add the following below this CDDL HEADER, with the
# fields enclosed by brackets "[]" replaced with your own identifying
# information: Portions Copyright [yyyy] [name of copyright owner]
#
# CDDL HEADER END
#
#
# Copyright 2008 Sun Microsystems, Inc.  All rights reserved.
# Use is subject to license terms.
#

set $dir=/tmp
set $nfiles=10000
set $meandirwidth=1000000
set $meanfilesize=16k
set $nthreads=100
set $meaniosize=16k
set $iosize=1m

define fileset name=bigfileset,path=$dir,size=$meanfilesize,entries=$nfiles,dirwidth=$meandirwidth,prealloc=80

define process name=proxycache,instances=1
{
thread name=proxycache,memsize=10m,instances=$nthreads
{
flowop deletefile name=deletefile1,filesetname=bigfileset
flowop createfile name=createfile1,filesetname=bigfileset,fd=1
flowop appendfilerand name=appendfilerand1,iosize=$meaniosize,fd=1
flowop closefile name=closefile1,fd=1
flowop openfile name=openfile2,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile2,fd=1,iosize=$iosize
flowop closefile name=closefile2,fd=1
flowop openfile name=openfile3,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile3,fd=1,iosize=$iosize
flowop closefile name=closefile3,fd=1
flowop openfile name=openfile4,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile4,fd=1,iosize=$iosize
flowop closefile name=closefile4,fd=1
flowop openfile name=openfile5,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile5,fd=1,iosize=$iosize
flowop closefile name=closefile5,fd=1
flowop openfile name=openfile6,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile6,fd=1,iosize=$iosize
flowop closefile name=closefile6,fd=1
flowop opslimit name=limit
}
}


set $nthreads=8
set $dir=/root/share/fxmark/bin/root
run 30
filebench
b'Filebench Version 1.5-alpha3\n'
b'0.000: Allocated 177MB of shared memory\n'
b'0.002: Populating and pre-allocating filesets\n'
b'0.006: bigfileset populated: 10000 files, avg. dir. width = 1000000, avg. dir. depth = 0.7, 0 leafdirs, 156.250MB total size\n'
b'0.006: Removing bigfileset tree (if exists)\n'
b'0.012: Pre-allocating directories in bigfileset tree\n'
b'0.012: Pre-allocating files in bigfileset tree\n'
b'0.323: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)\n'
b'0.323: Population and pre-allocation of filesets completed\n'
b'0.324: Starting 1 proxycache instances\n'
b'1.331: Running...\n'
b'31.334: Run took 30 seconds...\n'
b'31.334: Per-Operation Breakdown\n'
b'limit                0ops        0ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.000ms]\n'
b'closefile6           1424376ops    47476ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.291ms]\n'
b'readfile6            1424376ops    47476ops/s 373.3mb/s    0.003ms/op [0.001ms - 0.281ms]\n'
b'openfile6            1424376ops    47476ops/s   0.0mb/s    0.006ms/op [0.002ms - 2.971ms]\n'
b'closefile5           1424377ops    47476ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.412ms]\n'
b'readfile5            1424377ops    47476ops/s 372.9mb/s    0.003ms/op [0.001ms - 0.387ms]\n'
b'openfile5            1424377ops    47476ops/s   0.0mb/s    0.006ms/op [0.002ms - 1.028ms]\n'
b'closefile4           1424377ops    47476ops/s   0.0mb/s    0.001ms/op [0.001ms - 2.435ms]\n'
b'readfile4            1424378ops    47476ops/s 373.3mb/s    0.003ms/op [0.001ms - 0.917ms]\n'
b'openfile4            1424378ops    47476ops/s   0.0mb/s    0.006ms/op [0.002ms - 1.613ms]\n'
b'closefile3           1424378ops    47476ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.271ms]\n'
b'readfile3            1424378ops    47476ops/s 373.5mb/s    0.003ms/op [0.001ms - 0.388ms]\n'
b'openfile3            1424379ops    47476ops/s   0.0mb/s    0.006ms/op [0.002ms - 0.758ms]\n'
b'closefile2           1424380ops    47476ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.652ms]\n'
b'readfile2            1424380ops    47476ops/s 373.4mb/s    0.003ms/op [0.001ms - 0.352ms]\n'
b'openfile2            1424380ops    47476ops/s   0.0mb/s    0.006ms/op [0.002ms - 0.817ms]\n'
b'closefile1           1424381ops    47476ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.327ms]\n'
b'appendfilerand1      1424381ops    47476ops/s 371.2mb/s    0.007ms/op [0.003ms - 0.564ms]\n'
b'createfile1          1424382ops    47476ops/s   0.0mb/s    0.017ms/op [0.008ms - 5.315ms]\n'
b'deletefile1          1424269ops    47473ops/s   0.0mb/s    0.014ms/op [0.008ms - 5.333ms]\n'
b'31.334: IO Summary: 27063080 ops 902045.327 ops/s 237381/47476 rd/wr 2237.6mb/s 0.005ms/op\n'
b'31.334: Shutting down processes\n'
[ops]:[902045.327]
[media]:[pmem],[fs]:[nova]
---------------------------
-----------start-----------
## pmem:nova:filebench_varmail:NAME_Varmail:8:bufferedio
[bench_name]:[Varmail]
# auto generated by fxmark#
# CDDL HEADER START
#
# The contents of this file are subject to the terms of the
# Common Development and Distribution License (the "License").
# You may not use this file except in compliance with the License.
#
# You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
# or http://www.opensolaris.org/os/licensing.
# See the License for the specific language governing permissions
# and limitations under the License.
#
# When distributing Covered Code, include this CDDL HEADER in each
# file and include the License file at usr/src/OPENSOLARIS.LICENSE.
# If applicable, add the following below this CDDL HEADER, with the
# fields enclosed by brackets "[]" replaced with your own identifying
# information: Portions Copyright [yyyy] [name of copyright owner]
#
# CDDL HEADER END
#
#
# Copyright 2007 Sun Microsystems, Inc.  All rights reserved.
# Use is subject to license terms.
#

set $dir=/tmp
set $nfiles=1000
set $meandirwidth=1000000
set $meanfilesize=16k
set $nthreads=16
set $iosize=1m
set $meanappendsize=16k

define fileset name=bigfileset,path=$dir,size=$meanfilesize,entries=$nfiles,dirwidth=$meandirwidth,prealloc=80

define process name=filereader,instances=1
{
thread name=filereaderthread,memsize=10m,instances=$nthreads
{
flowop deletefile name=deletefile1,filesetname=bigfileset
flowop createfile name=createfile2,filesetname=bigfileset,fd=1
flowop appendfilerand name=appendfilerand2,iosize=$meanappendsize,fd=1
flowop fsync name=fsyncfile2,fd=1
flowop closefile name=closefile2,fd=1
flowop openfile name=openfile3,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile3,fd=1,iosize=$iosize
flowop appendfilerand name=appendfilerand3,iosize=$meanappendsize,fd=1
flowop fsync name=fsyncfile3,fd=1
flowop closefile name=closefile3,fd=1
flowop openfile name=openfile4,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile4,fd=1,iosize=$iosize
flowop closefile name=closefile4,fd=1
}
}


####################################
# re-configured values by fxmark
####################################
# set $dir=[test partition]
# set $nthreads=[$cpu * 2]
# run [benchmark time]
set $nthreads=8
set $dir=/root/share/fxmark/bin/root
run 30
filebench
b'Filebench Version 1.5-alpha3\n'
b'0.000: Allocated 177MB of shared memory\n'
b'0.002: Populating and pre-allocating filesets\n'
b'0.002: bigfileset populated: 1000 files, avg. dir. width = 1000000, avg. dir. depth = 0.5, 0 leafdirs, 15.625MB total size\n'
b'0.002: Removing bigfileset tree (if exists)\n'
b'0.008: Pre-allocating directories in bigfileset tree\n'
b'0.008: Pre-allocating files in bigfileset tree\n'
b'0.025: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)\n'
b'0.025: Population and pre-allocation of filesets completed\n'
b'0.025: Starting 1 filereader instances\n'
b'1.032: Running...\n'
b'31.035: Run took 30 seconds...\n'
b'31.035: Per-Operation Breakdown\n'
b'closefile4           2234594ops    74482ops/s   0.0mb/s    0.001ms/op [0.001ms - 2.787ms]\n'
b'readfile4            2234595ops    74482ops/s 1166.9mb/s    0.004ms/op [0.001ms - 1.162ms]\n'
b'openfile4            2234596ops    74482ops/s   0.0mb/s    0.005ms/op [0.002ms - 0.703ms]\n'
b'closefile3           2234596ops    74482ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.423ms]\n'
b'fsyncfile3           2234596ops    74482ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.182ms]\n'
b'appendfilerand3      2234597ops    74482ops/s 582.0mb/s    0.007ms/op [0.003ms - 0.670ms]\n'
b'readfile3            2234598ops    74482ops/s 1170.1mb/s    0.004ms/op [0.001ms - 1.441ms]\n'
b'openfile3            2234598ops    74482ops/s   0.0mb/s    0.005ms/op [0.002ms - 2.767ms]\n'
b'closefile2           2234598ops    74482ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.285ms]\n'
b'fsyncfile2           2234598ops    74482ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.202ms]\n'
b'appendfilerand2      2234598ops    74482ops/s 581.5mb/s    0.007ms/op [0.001ms - 0.711ms]\n'
b'createfile2          2234600ops    74482ops/s   0.0mb/s    0.017ms/op [0.008ms - 2.844ms]\n'
b'deletefile1          2234600ops    74482ops/s   0.0mb/s    0.015ms/op [0.008ms - 0.891ms]\n'
b'31.035: IO Summary: 29049764 ops 968262.852 ops/s 148963/148964 rd/wr 3500.4mb/s 0.005ms/op\n'
b'31.035: Shutting down processes\n'
[ops]:[968262.852]
[media]:[pmem],[fs]:[nova]
---------------------------
-----------start-----------
## pmem:nova:filebench_fileserver:NAME_Fileserver:8:bufferedio
[bench_name]:[Fileserver]
# auto generated by fxmark#
# CDDL HEADER START
#
# The contents of this file are subject to the terms of the
# Common Development and Distribution License (the "License").
# You may not use this file except in compliance with the License.
#
# You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
# or http://www.opensolaris.org/os/licensing.
# See the License for the specific language governing permissions
# and limitations under the License.
#
# When distributing Covered Code, include this CDDL HEADER in each
# file and include the License file at usr/src/OPENSOLARIS.LICENSE.
# If applicable, add the following below this CDDL HEADER, with the
# fields enclosed by brackets "[]" replaced with your own identifying
# information: Portions Copyright [yyyy] [name of copyright owner]
#
# CDDL HEADER END
#
#
# Copyright 2008 Sun Microsystems, Inc.  All rights reserved.
# Use is subject to license terms.
#

set $dir=/tmp
set $nfiles=10000
set $meandirwidth=20
set $meanfilesize=128k
set $nthreads=50
set $iosize=1m
set $meanappendsize=16k

define fileset name=bigfileset,path=$dir,size=$meanfilesize,entries=$nfiles,dirwidth=$meandirwidth,prealloc=80

define process name=filereader,instances=1
{
thread name=filereaderthread,memsize=10m,instances=$nthreads
{
flowop createfile name=createfile1,filesetname=bigfileset,fd=1
flowop writewholefile name=wrtfile1,srcfd=1,fd=1,iosize=$iosize
flowop closefile name=closefile1,fd=1
flowop openfile name=openfile1,filesetname=bigfileset,fd=1
flowop appendfilerand name=appendfilerand1,iosize=$meanappendsize,fd=1
flowop closefile name=closefile2,fd=1
flowop openfile name=openfile2,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile1,fd=1,iosize=$iosize
flowop closefile name=closefile3,fd=1
flowop deletefile name=deletefile1,filesetname=bigfileset
flowop statfile name=statfile1,filesetname=bigfileset
}
}




####################################
# re-configured values by fxmark
####################################
# set $dir=[test partition]
# set $nthreads=[$cpu * 2]
# run [benchmark time]

set $nthreads=8
set $dir=/root/share/fxmark/bin/root
run 10
filebench
b'Filebench Version 1.5-alpha3\n'
b'0.000: Allocated 177MB of shared memory\n'
b'0.002: Populating and pre-allocating filesets\n'
b'0.007: bigfileset populated: 10000 files, avg. dir. width = 20, avg. dir. depth = 3.1, 0 leafdirs, 1250.000MB total size\n'
b'0.007: Removing bigfileset tree (if exists)\n'
b'0.012: Pre-allocating directories in bigfileset tree\n'
b'0.022: Pre-allocating files in bigfileset tree\n'
b'1.164: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)\n'
b'1.164: Population and pre-allocation of filesets completed\n'
b'1.165: Starting 1 filereader instances\n'
b'2.173: Running...\n'
b'12.174: Run took 10 seconds...\n'
b'12.174: Per-Operation Breakdown\n'
b'statfile1            473052ops    47302ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.174ms]\n'
b'deletefile1          473052ops    47302ops/s   0.0mb/s    0.022ms/op [0.010ms - 0.324ms]\n'
b'closefile3           473052ops    47302ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.169ms]\n'
b'readfile1            473055ops    47302ops/s 6284.8mb/s    0.022ms/op [0.011ms - 0.230ms]\n'
b'openfile2            473057ops    47302ops/s   0.0mb/s    0.006ms/op [0.003ms - 0.479ms]\n'
b'closefile2           473057ops    47302ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.137ms]\n'
b'appendfilerand1      473057ops    47302ops/s 369.8mb/s    0.008ms/op [0.003ms - 0.201ms]\n'
b'openfile1            473058ops    47302ops/s   0.0mb/s    0.006ms/op [0.003ms - 0.873ms]\n'
b'closefile1           473058ops    47302ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.170ms]\n'
b'wrtfile1             473060ops    47303ops/s 5912.8mb/s    0.040ms/op [0.010ms - 0.435ms]\n'
b'createfile1          473060ops    47303ops/s   0.0mb/s    0.017ms/op [0.010ms - 0.725ms]\n'
b'12.174: IO Summary: 5203618 ops 520325.273 ops/s 47302/94605 rd/wr 12567.4mb/s 0.012ms/op\n'
b'12.174: Shutting down processes\n'
[ops]:[520325.273]
[media]:[pmem],[fs]:[nova]
---------------------------
### NUM_TEST_CONF  = 3
### SYSTEM         = Linux p2cache 5.4.225 #9 SMP Sun May 7 21:08:00 UTC 2023 x86_64 x86_64 x86_64 GNU/Linux
### DISK_SIZE      = 128G
### DURATION       = 30s
### DIRECTIO       = bufferedio,directio
### MEDIA_TYPES    = mem,pmem,ssd
### FS_TYPES       = tmpfs,p2cache,nova,ext4_dax,xfs_dax,ext4,xfs,ext4_dj
### BENCH_TYPES    = filebench_webproxy:NAME_Webproxy,filebench_varmail:NAME_Varmail,filebench_fileserver:NAME_Fileserver
### NCORES         = 1,2,4,6,8,10,12
### CORE_SEQ       = 0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23


### MODEL_NAME     = Intel(R) Xeon(R) Gold 5317 CPU @ 3.00GHz
### PHYSICAL_CHIPS = 2
### CORE_PER_CHIP  = 12
### SMT_LEVEL      = 1


-----------start-----------
## pmem:p2cache:filebench_webproxy:NAME_Webproxy:8:bufferedio
[bench_name]:[Webproxy]
# auto generated by fxmark#
# CDDL HEADER START
#
# The contents of this file are subject to the terms of the
# Common Development and Distribution License (the "License").
# You may not use this file except in compliance with the License.
#
# You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
# or http://www.opensolaris.org/os/licensing.
# See the License for the specific language governing permissions
# and limitations under the License.
#
# When distributing Covered Code, include this CDDL HEADER in each
# file and include the License file at usr/src/OPENSOLARIS.LICENSE.
# If applicable, add the following below this CDDL HEADER, with the
# fields enclosed by brackets "[]" replaced with your own identifying
# information: Portions Copyright [yyyy] [name of copyright owner]
#
# CDDL HEADER END
#
#
# Copyright 2008 Sun Microsystems, Inc.  All rights reserved.
# Use is subject to license terms.
#

set $dir=/tmp
set $nfiles=10000
set $meandirwidth=1000000
set $meanfilesize=16k
set $nthreads=100
set $meaniosize=16k
set $iosize=1m

define fileset name=bigfileset,path=$dir,size=$meanfilesize,entries=$nfiles,dirwidth=$meandirwidth,prealloc=80

define process name=proxycache,instances=1
{
thread name=proxycache,memsize=10m,instances=$nthreads
{
flowop deletefile name=deletefile1,filesetname=bigfileset
flowop createfile name=createfile1,filesetname=bigfileset,fd=1
flowop appendfilerand name=appendfilerand1,iosize=$meaniosize,fd=1
flowop closefile name=closefile1,fd=1
flowop openfile name=openfile2,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile2,fd=1,iosize=$iosize
flowop closefile name=closefile2,fd=1
flowop openfile name=openfile3,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile3,fd=1,iosize=$iosize
flowop closefile name=closefile3,fd=1
flowop openfile name=openfile4,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile4,fd=1,iosize=$iosize
flowop closefile name=closefile4,fd=1
flowop openfile name=openfile5,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile5,fd=1,iosize=$iosize
flowop closefile name=closefile5,fd=1
flowop openfile name=openfile6,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile6,fd=1,iosize=$iosize
flowop closefile name=closefile6,fd=1
flowop opslimit name=limit
}
}


set $nthreads=8
set $dir=/root/share/fxmark/bin/root
run 30
filebench
b'Filebench Version 1.5-alpha3\n'
b'0.000: Allocated 177MB of shared memory\n'
b'0.002: Populating and pre-allocating filesets\n'
b'0.006: bigfileset populated: 10000 files, avg. dir. width = 1000000, avg. dir. depth = 0.7, 0 leafdirs, 156.250MB total size\n'
b'0.006: Removing bigfileset tree (if exists)\n'
b'0.012: Pre-allocating directories in bigfileset tree\n'
b'0.012: Pre-allocating files in bigfileset tree\n'
b'0.260: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)\n'
b'0.260: Population and pre-allocation of filesets completed\n'
b'0.260: Starting 1 proxycache instances\n'
b'1.268: Running...\n'
b'31.271: Run took 30 seconds...\n'
b'31.271: Per-Operation Breakdown\n'
b'limit                0ops        0ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.000ms]\n'
b'closefile6           1437391ops    47910ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.336ms]\n'
b'readfile6            1437394ops    47910ops/s 376.2mb/s    0.003ms/op [0.001ms - 0.743ms]\n'
b'openfile6            1437394ops    47910ops/s   0.0mb/s    0.006ms/op [0.002ms - 0.925ms]\n'
b'closefile5           1437394ops    47910ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.195ms]\n'
b'readfile5            1437395ops    47910ops/s 376.4mb/s    0.003ms/op [0.001ms - 0.448ms]\n'
b'openfile5            1437395ops    47910ops/s   0.0mb/s    0.006ms/op [0.002ms - 1.178ms]\n'
b'closefile4           1437396ops    47910ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.312ms]\n'
b'readfile4            1437396ops    47910ops/s 376.1mb/s    0.003ms/op [0.001ms - 0.375ms]\n'
b'openfile4            1437396ops    47910ops/s   0.0mb/s    0.006ms/op [0.002ms - 1.233ms]\n'
b'closefile3           1437396ops    47910ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.657ms]\n'
b'readfile3            1437397ops    47910ops/s 376.5mb/s    0.003ms/op [0.001ms - 0.793ms]\n'
b'openfile3            1437398ops    47910ops/s   0.0mb/s    0.006ms/op [0.002ms - 2.438ms]\n'
b'closefile2           1437398ops    47910ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.410ms]\n'
b'readfile2            1437398ops    47910ops/s 376.0mb/s    0.003ms/op [0.001ms - 0.403ms]\n'
b'openfile2            1437398ops    47910ops/s   0.0mb/s    0.006ms/op [0.002ms - 0.738ms]\n'
b'closefile1           1437398ops    47910ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.660ms]\n'
b'appendfilerand1      1437398ops    47910ops/s 374.1mb/s    0.013ms/op [0.004ms - 0.991ms]\n'
b'createfile1          1437399ops    47910ops/s   0.0mb/s    0.015ms/op [0.008ms - 1.190ms]\n'
b'deletefile1          1437240ops    47905ops/s   0.0mb/s    0.008ms/op [0.005ms - 2.810ms]\n'
b'31.271: IO Summary: 27310371 ops 910288.291 ops/s 239551/47910 rd/wr 2255.3mb/s 0.005ms/op\n'
b'31.271: Shutting down processes\n'
[ops]:[910288.291]
[media]:[pmem],[fs]:[p2cache]
---------------------------
-----------start-----------
## pmem:p2cache:filebench_varmail:NAME_Varmail:8:bufferedio
[bench_name]:[Varmail]
# auto generated by fxmark#
# CDDL HEADER START
#
# The contents of this file are subject to the terms of the
# Common Development and Distribution License (the "License").
# You may not use this file except in compliance with the License.
#
# You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
# or http://www.opensolaris.org/os/licensing.
# See the License for the specific language governing permissions
# and limitations under the License.
#
# When distributing Covered Code, include this CDDL HEADER in each
# file and include the License file at usr/src/OPENSOLARIS.LICENSE.
# If applicable, add the following below this CDDL HEADER, with the
# fields enclosed by brackets "[]" replaced with your own identifying
# information: Portions Copyright [yyyy] [name of copyright owner]
#
# CDDL HEADER END
#
#
# Copyright 2007 Sun Microsystems, Inc.  All rights reserved.
# Use is subject to license terms.
#

set $dir=/tmp
set $nfiles=1000
set $meandirwidth=1000000
set $meanfilesize=16k
set $nthreads=16
set $iosize=1m
set $meanappendsize=16k

define fileset name=bigfileset,path=$dir,size=$meanfilesize,entries=$nfiles,dirwidth=$meandirwidth,prealloc=80

define process name=filereader,instances=1
{
thread name=filereaderthread,memsize=10m,instances=$nthreads
{
flowop deletefile name=deletefile1,filesetname=bigfileset
flowop createfile name=createfile2,filesetname=bigfileset,fd=1
flowop appendfilerand name=appendfilerand2,iosize=$meanappendsize,fd=1
flowop fsync name=fsyncfile2,fd=1
flowop closefile name=closefile2,fd=1
flowop openfile name=openfile3,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile3,fd=1,iosize=$iosize
flowop appendfilerand name=appendfilerand3,iosize=$meanappendsize,fd=1
flowop fsync name=fsyncfile3,fd=1
flowop closefile name=closefile3,fd=1
flowop openfile name=openfile4,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile4,fd=1,iosize=$iosize
flowop closefile name=closefile4,fd=1
}
}


####################################
# re-configured values by fxmark
####################################
# set $dir=[test partition]
# set $nthreads=[$cpu * 2]
# run [benchmark time]
set $nthreads=8
set $dir=/root/share/fxmark/bin/root
run 30
filebench
b'Filebench Version 1.5-alpha3\n'
b'0.000: Allocated 177MB of shared memory\n'
b'0.002: Populating and pre-allocating filesets\n'
b'0.002: bigfileset populated: 1000 files, avg. dir. width = 1000000, avg. dir. depth = 0.5, 0 leafdirs, 15.625MB total size\n'
b'0.002: Removing bigfileset tree (if exists)\n'
b'0.008: Pre-allocating directories in bigfileset tree\n'
b'0.008: Pre-allocating files in bigfileset tree\n'
b'0.021: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)\n'
b'0.021: Population and pre-allocation of filesets completed\n'
b'0.022: Starting 1 filereader instances\n'
b'1.029: Running...\n'
b'31.032: Run took 30 seconds...\n'
b'31.032: Per-Operation Breakdown\n'
b'closefile4           2262439ops    75410ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.395ms]\n'
b'readfile4            2262439ops    75410ops/s 723.5mb/s    0.003ms/op [0.001ms - 0.614ms]\n'
b'openfile4            2262442ops    75410ops/s   0.0mb/s    0.005ms/op [0.002ms - 1.021ms]\n'
b'closefile3           2262443ops    75410ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.203ms]\n'
b'fsyncfile3           2262443ops    75410ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.418ms]\n'
b'appendfilerand3      2262443ops    75410ops/s 589.2mb/s    0.009ms/op [0.001ms - 2.471ms]\n'
b'readfile3            2262444ops    75410ops/s 723.2mb/s    0.003ms/op [0.001ms - 2.779ms]\n'
b'openfile3            2262444ops    75410ops/s   0.0mb/s    0.005ms/op [0.002ms - 2.725ms]\n'
b'closefile2           2262445ops    75410ops/s   0.0mb/s    0.001ms/op [0.001ms - 1.365ms]\n'
b'fsyncfile2           2262445ops    75410ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.185ms]\n'
b'appendfilerand2      2262445ops    75410ops/s 588.9mb/s    0.012ms/op [0.001ms - 1.718ms]\n'
b'createfile2          2262445ops    75410ops/s   0.0mb/s    0.015ms/op [0.008ms - 2.092ms]\n'
b'deletefile1          2262446ops    75410ops/s   0.0mb/s    0.009ms/op [0.005ms - 3.926ms]\n'
b'31.032: IO Summary: 29411763 ops 980326.614 ops/s 150819/150820 rd/wr 2624.8mb/s 0.005ms/op\n'
b'31.032: Shutting down processes\n'
[ops]:[980326.614]
[media]:[pmem],[fs]:[p2cache]
---------------------------
-----------start-----------
## pmem:p2cache:filebench_fileserver:NAME_Fileserver:8:bufferedio
[bench_name]:[Fileserver]
# auto generated by fxmark#
# CDDL HEADER START
#
# The contents of this file are subject to the terms of the
# Common Development and Distribution License (the "License").
# You may not use this file except in compliance with the License.
#
# You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
# or http://www.opensolaris.org/os/licensing.
# See the License for the specific language governing permissions
# and limitations under the License.
#
# When distributing Covered Code, include this CDDL HEADER in each
# file and include the License file at usr/src/OPENSOLARIS.LICENSE.
# If applicable, add the following below this CDDL HEADER, with the
# fields enclosed by brackets "[]" replaced with your own identifying
# information: Portions Copyright [yyyy] [name of copyright owner]
#
# CDDL HEADER END
#
#
# Copyright 2008 Sun Microsystems, Inc.  All rights reserved.
# Use is subject to license terms.
#

set $dir=/tmp
set $nfiles=10000
set $meandirwidth=20
set $meanfilesize=128k
set $nthreads=50
set $iosize=1m
set $meanappendsize=16k

define fileset name=bigfileset,path=$dir,size=$meanfilesize,entries=$nfiles,dirwidth=$meandirwidth,prealloc=80

define process name=filereader,instances=1
{
thread name=filereaderthread,memsize=10m,instances=$nthreads
{
flowop createfile name=createfile1,filesetname=bigfileset,fd=1
flowop writewholefile name=wrtfile1,srcfd=1,fd=1,iosize=$iosize
flowop closefile name=closefile1,fd=1
flowop openfile name=openfile1,filesetname=bigfileset,fd=1
flowop appendfilerand name=appendfilerand1,iosize=$meanappendsize,fd=1
flowop closefile name=closefile2,fd=1
flowop openfile name=openfile2,filesetname=bigfileset,fd=1
flowop readwholefile name=readfile1,fd=1,iosize=$iosize
flowop closefile name=closefile3,fd=1
flowop deletefile name=deletefile1,filesetname=bigfileset
flowop statfile name=statfile1,filesetname=bigfileset
}
}




####################################
# re-configured values by fxmark
####################################
# set $dir=[test partition]
# set $nthreads=[$cpu * 2]
# run [benchmark time]

set $nthreads=8
set $dir=/root/share/fxmark/bin/root
run 10
filebench
b'Filebench Version 1.5-alpha3\n'
b'0.000: Allocated 177MB of shared memory\n'
b'0.002: Populating and pre-allocating filesets\n'
b'0.007: bigfileset populated: 10000 files, avg. dir. width = 20, avg. dir. depth = 3.1, 0 leafdirs, 1250.000MB total size\n'
b'0.007: Removing bigfileset tree (if exists)\n'
b'0.012: Pre-allocating directories in bigfileset tree\n'
b'0.020: Pre-allocating files in bigfileset tree\n'
b'0.284: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)\n'
b'0.284: Population and pre-allocation of filesets completed\n'
b'0.284: Starting 1 filereader instances\n'
b'1.292: Running...\n'
b'11.294: Run took 10 seconds...\n'
b'11.294: Per-Operation Breakdown\n'
b'statfile1            371348ops    37130ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.188ms]\n'
b'deletefile1          371348ops    37130ops/s   0.0mb/s    0.009ms/op [0.005ms - 0.522ms]\n'
b'closefile3           371348ops    37130ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.227ms]\n'
b'readfile1            371350ops    37130ops/s 4641.3mb/s    0.023ms/op [0.014ms - 0.263ms]\n'
b'openfile2            371351ops    37130ops/s   0.0mb/s    0.006ms/op [0.003ms - 0.642ms]\n'
b'closefile2           371351ops    37130ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.263ms]\n'
b'appendfilerand1      371352ops    37130ops/s 289.9mb/s    0.008ms/op [0.001ms - 0.319ms]\n'
b'openfile1            371352ops    37130ops/s   0.0mb/s    0.006ms/op [0.003ms - 0.833ms]\n'
b'closefile1           371352ops    37130ops/s   0.0mb/s    0.001ms/op [0.001ms - 0.181ms]\n'
b'wrtfile1             371354ops    37131ops/s 4641.3mb/s    0.099ms/op [0.016ms - 3.732ms]\n'
b'createfile1          371356ops    37131ops/s   0.0mb/s    0.016ms/op [0.008ms - 0.420ms]\n'
b'11.294: IO Summary: 4084862 ops 408433.022 ops/s 37130/74261 rd/wr 9572.5mb/s 0.016ms/op\n'
b'11.294: Shutting down processes\n'
[ops]:[408433.022]
[media]:[pmem],[fs]:[p2cache]
---------------------------
### NUM_TEST_CONF  = 3
